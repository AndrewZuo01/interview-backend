"use strict";function t(t,e){if(e==null||e>t.length)e=t.length;for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e(t){if(Array.isArray(t))return t}function r(e){if(Array.isArray(e))return t(e)}function n(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function i(t,e,r,n,i,o,a){try{var u=t[o](a);var s=u.value}catch(t){r(t);return}if(u.done){e(s)}else{Promise.resolve(s).then(n,i)}}function o(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(t){i(a,n,o,u,s,"next",t)}function s(t){i(a,n,o,u,s,"throw",t)}u(undefined)})}}function a(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}function s(t,e,r){if(e)u(t.prototype,e);if(r)u(t,r);return t}function l(t,e,r){if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function c(){c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}return t};return c.apply(this,arguments)}function d(t){d=Object.setPrototypeOf?Object.getPrototypeOf:function t(t){return t.__proto__||Object.getPrototypeOf(t)};return d(t)}function f(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)C(t,e)}function h(t,e){if(e!=null&&typeof Symbol!=="undefined"&&e[Symbol.hasInstance]){return!!e[Symbol.hasInstance](t)}else{return t instanceof e}}function p(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v(t,e){var r=t==null?null:typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r==null)return;var n=[];var i=true;var o=false;var a,u;try{for(r=r.call(t);!(i=(a=r.next()).done);i=true){n.push(a.value);if(e&&n.length===e)break}}catch(t){o=true;u=t}finally{try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw u}}return n}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(t){if(t===null||t===void 0)throw new TypeError("Cannot destructure "+t);return t}function y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))}n.forEach(function(e){l(t,e,r[e])})}return t}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e){n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}r.push.apply(r,n)}return r}function b(t,e){e=e!=null?e:{};if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}else{_(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function j(t,e){if(t==null)return{};var r=w(t,e);var n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++){n=o[i];if(e.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(t,n))continue;r[n]=t[n]}}return r}function w(t,e){if(t==null)return{};var r={};var n=Object.keys(t);var i,o;for(o=0;o<n.length;o++){i=n[o];if(e.indexOf(i)>=0)continue;r[i]=t[i]}return r}function S(t,e){if(e&&(I(e)==="object"||typeof e==="function")){return e}return n(t)}function C(t,e){C=Object.setPrototypeOf||function t(t,e){t.__proto__=e;return t};return C(t,e)}function z(t,r){return e(t)||v(t,r)||M(t,r)||m()}function k(t,e){if(!e){e=t.slice(0)}return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function E(t){return r(t)||p(t)||M(t)||g()}function I(t){"@swc/helpers - typeof";return t&&typeof Symbol!=="undefined"&&t.constructor===Symbol?"symbol":typeof t}function M(e,r){if(!e)return;if(typeof e==="string")return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}function O(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(t){return false}}function q(t){var e=O();return function r(){var r=d(t),n;if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else{n=r.apply(this,arguments)}return S(this,n)}}function A(t,e){var r,n,i,o,a={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]};return(o={next:u(0),"throw":u(1),"return":u(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o);function u(t){return function(e){return s([t,e])}}function s(o){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(i=o[0]&2?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;if(n=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:false};case 5:a.label++;n=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){a=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(o[0]===6&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}if(i[2])a.ops.pop();a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t];n=0}finally{r=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}}function D(){var t=k(["\n  from {\n    background-color: transparent;\n  }\n  25% {\n    background-color: rgba(255, 173, 51, 0.5);\n  }\n  to {\n    background-color: transparent;\n  }\n"]);D=function e(){return t};return t}var T=require("formik");var F=require("react");var P=require("react-password-checklist");var R=require("@mui/material/TextField");var B=require("@mui/material/FormControl");var L=require("@mui/material/FormHelperText");var W=require("@mui/material/Stack");var U=require("@mui/material/Box");var N=require("@mui/material/Typography");var H=require("@mui/material/styles/useTheme");var V=require("react/jsx-runtime");var K=require("@mui/icons-material/Info");var G=require("@mui/material/InputLabel");var Y=require("@mui/material/Tooltip");var X=require("usehooks-ts");var J=require("yup");var Z=require("@mui/icons-material/Visibility");var $=require("@mui/icons-material/VisibilityOff");var Q=require("@mui/material/Alert");var tt=require("@mui/material/Button");var te=require("@mui/material/IconButton");var tr=require("@mui/material/InputAdornment");var tn=require("@mui/material/Link");var ti=require("@mui/icons-material/GitHub");var to=require("@mui/icons-material/Google");var ta=require("@mui/icons-material/Microsoft");var tu=require("@mui/icons-material/MailOutline");var ts=require("@mui/material/styles/createTheme");var tl=require("@mui/material/styles/ThemeProvider");var tc=require("@mui/material/styles");var td=require("react-dropzone");var tf=require("@mui/material/Slider");var th=require("@mui/material/styles/styled");var tp=require("@mui/material/Switch");var tv=require("mui-chips-input");var tm=require("@mui/icons-material/KeyboardArrowDown");var tg=require("@mui/material");var tx=require("@mui/material/Select");var ty=require("@mui/material/MenuItem");var t_=require("@mui/material/ListSubheader");var tb=require("@mui/material/Tab");var tj=require("@mui/material/Tabs");var tw=require("@mui/material/Avatar");var tS=require("react-file-icon");var tC=require("@mui/material/Skeleton");var tz=require("swr");var tk=require("react-markdown");var tE=require("rehype-katex");var tI=require("rehype-raw");var tM=require("remark-gfm");var tO=require("remark-math");var tq=require("highlight.js");require("highlight.js/styles/monokai-sublime.css");var tA=require("@mui/icons-material/ContentPaste");var tD=require("@mui/material/Paper");var tT=require("@mui/material/Table");var tF=require("@mui/material/TableBody");var tP=require("@mui/material/TableCell");var tR=require("@mui/material/TableContainer");var tB=require("@mui/material/TableHead");var tL=require("@mui/material/TableRow");var tW=require("react-resizable");var tU=require("@mui/icons-material/Close");var tN=require("@mui/material/Drawer");var tH=require("@mui/material/useMediaQuery");require("react-resizable/css/styles.css");var tV=require("@mui/icons-material/ArrowBack");var tK=require("@mui/material/ImageList");var tG=require("@mui/material/ImageListItem");var tY=require("@mui/material/AlertTitle");var tX=require("@emotion/react");var tJ=require("@mui/material/CircularProgress");var tZ=require("@mui/icons-material/ExpandLess");var t$=require("@mui/icons-material/ExpandMore");var tQ=require("@mui/icons-material/MoreVert");var t1=require("@mui/material/Menu");var t0=require("@mui/material/Dialog");var t2=require("@mui/material/DialogActions");var t4=require("@mui/material/DialogContent");var t3=require("@mui/material/DialogTitle");var t5=require("@mui/material/colors/grey");var t6=require("@mui/icons-material/StickyNote2Outlined");var t8=require("@mui/icons-material/ThumbDownAlt");var t7=require("@mui/icons-material/ThumbDownAltOutlined");var t9=require("@mui/icons-material/ThumbUpAlt");var et=require("@mui/icons-material/ThumbUpAltOutlined");var ee=require("@mui/icons-material/Terminal");var er=require("@mui/material/Collapse");var en=require("@mui/material/Divider");var ei=require("@mui/icons-material/Restore");var eo=require("draft-js");var ea=require("lodash/merge");require("draft-js/dist/Draft.css");var eu=require("@mui/icons-material/RemoveCircleOutlineOutlined");var es=require("lodash/isEqual");var el=require("@mui/icons-material/AddCircleOutlined");var ec=require("@mui/icons-material/Tune");var ed=require("lodash/map");var ef=require("lodash/cloneDeep");var eh=require("@mui/icons-material/ChevronRight");function ep(t){return t&&t.__esModule?t:{default:t}}function ev(t){if(t&&t.__esModule)return t;var e=Object.create(null);if(t){Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:true,get:function e(){return t[r]}})}})}e.default=t;return Object.freeze(e)}var em=/*#__PURE__*/ep(P);var eg=/*#__PURE__*/ep(R);var ex=/*#__PURE__*/ep(B);var ey=/*#__PURE__*/ep(L);var e_=/*#__PURE__*/ep(W);var eb=/*#__PURE__*/ep(U);var ej=/*#__PURE__*/ep(N);var ew=/*#__PURE__*/ep(H);var eS=/*#__PURE__*/ep(K);var eC=/*#__PURE__*/ep(G);var ez=/*#__PURE__*/ep(Y);var ek=/*#__PURE__*/ev(J);var eE=/*#__PURE__*/ep(Z);var eI=/*#__PURE__*/ep($);var eM=/*#__PURE__*/ep(Q);var eO=/*#__PURE__*/ep(tt);var eq=/*#__PURE__*/ep(te);var eA=/*#__PURE__*/ep(tr);var eD=/*#__PURE__*/ep(tn);var eT=/*#__PURE__*/ep(ti);var eF=/*#__PURE__*/ep(to);var eP=/*#__PURE__*/ep(ta);var eR=/*#__PURE__*/ep(tu);var eB=/*#__PURE__*/ep(ts);var eL=/*#__PURE__*/ep(tl);var eW=/*#__PURE__*/ep(tf);var eU=/*#__PURE__*/ep(th);var eN=/*#__PURE__*/ep(tp);var eH=/*#__PURE__*/ep(tm);var eV=/*#__PURE__*/ep(tx);var eK=/*#__PURE__*/ep(ty);var eG=/*#__PURE__*/ep(t_);var eY=/*#__PURE__*/ep(tb);var eX=/*#__PURE__*/ep(tj);var eJ=/*#__PURE__*/ep(tw);var eZ=/*#__PURE__*/ep(tC);var e$=/*#__PURE__*/ep(tz);var eQ=/*#__PURE__*/ep(tk);var e1=/*#__PURE__*/ep(tE);var e0=/*#__PURE__*/ep(tI);var e2=/*#__PURE__*/ep(tM);var e4=/*#__PURE__*/ep(tO);var e3=/*#__PURE__*/ep(tq);var e5=/*#__PURE__*/ep(tA);var e6=/*#__PURE__*/ep(tD);var e8=/*#__PURE__*/ep(tT);var e7=/*#__PURE__*/ep(tF);var e9=/*#__PURE__*/ep(tP);var rt=/*#__PURE__*/ep(tR);var re=/*#__PURE__*/ep(tB);var rr=/*#__PURE__*/ep(tL);var rn=/*#__PURE__*/ep(tU);var ri=/*#__PURE__*/ep(tN);var ro=/*#__PURE__*/ep(tH);var ra=/*#__PURE__*/ep(tV);var ru=/*#__PURE__*/ep(tK);var rs=/*#__PURE__*/ep(tG);var rl=/*#__PURE__*/ep(tY);var rc=/*#__PURE__*/ep(tJ);var rd=/*#__PURE__*/ep(tZ);var rf=/*#__PURE__*/ep(t$);var rh=/*#__PURE__*/ep(tQ);var rp=/*#__PURE__*/ep(t1);var rv=/*#__PURE__*/ep(t0);var rm=/*#__PURE__*/ep(t2);var rg=/*#__PURE__*/ep(t4);var rx=/*#__PURE__*/ep(t3);var ry=/*#__PURE__*/ep(t5);var r_=/*#__PURE__*/ep(t6);var rb=/*#__PURE__*/ep(t8);var rj=/*#__PURE__*/ep(t7);var rw=/*#__PURE__*/ep(t9);var rS=/*#__PURE__*/ep(et);var rC=/*#__PURE__*/ep(ee);var rz=/*#__PURE__*/ep(er);var rk=/*#__PURE__*/ep(en);var rE=/*#__PURE__*/ep(ei);var rI=/*#__PURE__*/ep(ea);var rM=/*#__PURE__*/ep(eu);var rO=/*#__PURE__*/ep(es);var rq=/*#__PURE__*/ep(el);var rA=/*#__PURE__*/ep(ec);var rD=/*#__PURE__*/ep(ed);var rT=/*#__PURE__*/ep(ef);var rF=/*#__PURE__*/ep(eh);var rP=function(t){var e=t.count,r=t.inputProps;var n=ew.default();return e?r?function(){var t=function(t){var r=e.toString(),n=r.length*8+(t?22:0);return(r.includes(".")||r.includes(","))&&(n-=6),"".concat(n,"px")};return r?V.jsx(eg.default,{id:r.id,inputProps:{type:"number",max:r.max,min:r.min,step:r.step||1,sx:{width:t(),padding:function(t){return t.spacing(.5,1)},fontSize:"12px",fontWeight:600,color:"text.secondary",MozAppearance:"textfield","&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{display:"none"},"&:focus":{width:t(!0),MozAppearance:"auto","&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{display:"flex"}}}},sx:{borderRadius:"6px",backgroundColor:function(t){return t.palette.mode==="light"?"grey.100":"grey.800"},"& fieldset":{border:"none"}},value:e,onChange:r.onChange}):null}():function(){return V.jsx(eb.default,{display:"flex",alignItems:"center",className:"notification-count",sx:{borderRadius:"6px",padding:"4px 8px",backgroundColor:n.palette.mode==="light"?"grey.100":"grey.800"},children:V.jsx(ej.default,{className:"notification-count",color:"text.secondary",sx:{fontSize:"12px",fontWeight:600},children:e})})}():null};var rR=function(t){var e=t.id,r=t.label,n=t.tooltip,i=t.notificationsProps;return V.jsxs(eb.default,{display:"flex",justifyContent:"space-between",width:"100%",children:[V.jsxs(eb.default,{display:"flex",gap:.5,alignItems:"center",children:[V.jsx(eC.default,{htmlFor:e,sx:{fontWeight:600,fontSize:"12px",color:"grey.500"},children:r}),n?V.jsx(ez.default,{title:n,children:V.jsx(eS.default,{sx:{fontSize:12,color:"grey.600"}})}):null]}),i?V.jsx(rP,y({},i)):null]})};var rB=function(t){var e=t.children,r=t.description,n=t.hasError,i=t.id,o=t.label,a=t.notificationsProps,u=t.tooltip,s=t.sx;return V.jsxs(e_.default,{width:"100%",sx:s,gap:.5,children:[o?V.jsx(rR,{id:i,label:o,tooltip:u,notificationsProps:a}):null,V.jsxs(ex.default,{error:n,fullWidth:!0,children:[e,r?V.jsx(ey.default,{children:r}):null]})]})};var rL=function(t){var e=t.description,r=t.disabled,n=t.hasError,i=t.id,o=t.label,a=t.size,u=a===void 0?"small":a,s=t.tooltip,l=t.multiline,c=t.endAdornment,d=j(t,["description","disabled","hasError","id","label","size","tooltip","multiline","endAdornment"]);return V.jsx(rB,{description:e,hasError:n,id:i,label:o,tooltip:s,children:V.jsx(eg.default,{disabled:r,InputProps:{endAdornment:c},inputProps:b(y({},d),{id:i,name:i,sx:{height:u==="small"?"7px":"15px",minHeight:l?"100px":"auto"}}),fullWidth:!0,multiline:l,sx:{fontSize:"14px",fontWeight:400,my:.5}})})};var rW="#FFFFFF",rU={50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#424242",850:"#303030",900:"#212121"},rN={50:"#FEEDEF",100:"#FCD1D7",200:"#FBA3B1",300:"#F9748F",400:"#F05579",500:"#F51762",600:"#DA0054",700:"#B90A47",800:"#980039",900:"#79002C"},rH={50:"#E6F5EE",100:"#CDEADE",200:"#9ED6BE",300:"#72C29E",400:"#4AAE80",500:"#20A56D",600:"#258A59",700:"#21794E",800:"#1D6844",900:"#19583A"},rV={50:"#FFF5E6",100:"#FFEBCC",200:"#FFD699",300:"#FFC266",400:"#FFAD33",500:"#FF9900",600:"#E68A00",700:"#CC7A00",800:"#B36B00",900:"#995C00"};var rK=function(t){var e=t.title,r=t.children,n=t.renderLogo;return V.jsx(e_.default,{sx:{backgroundColor:function(t){return t.palette.background.default},height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center"},children:V.jsxs(eb.default,{sx:function(t){return l({backgroundColor:function(t){return t.palette.background.paper},border:function(t){return"1px solid ".concat(t.palette.divider)},borderRadius:1,padding:t.spacing(5,5),maxWidth:"400px",height:"auto",maxHeight:"90%"},t.breakpoints.down("sm"),{maxWidth:"unset",width:"100%",height:"100%"})},children:[V.jsxs(e_.default,{sx:{alignItems:"center",gap:3,marginBottom:3},children:[n,e?V.jsx(ej.default,{textAlign:"center",color:"text.primary",children:e}):null]}),V.jsx(e_.default,{gap:1,paddingX:3,children:r})]})})};var rG=function(){return V.jsx("svg",{width:"24",height:"24",viewBox:"0 0 256 287",style:{fill:"inherit"},xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMin meet",children:V.jsx("path",{d:"M203.24 231.531l-28.73-88.434 75.208-54.64h-92.966L128.019.025l-.009-.024h92.98l28.74 88.446.002-.002.024-.013c16.69 51.31-.5 109.67-46.516 143.098zm-150.45 0l-.023.017 75.228 54.655 75.245-54.67-75.221-54.656-75.228 54.654zM6.295 88.434c-17.57 54.088 2.825 111.4 46.481 143.108l.007-.028 28.735-88.429-75.192-54.63h92.944L128.004.024 128.01 0H35.025L6.294 88.434z"})})};var rY=function(){return V.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 256 299",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",children:[V.jsx("path",{d:"M208.752 58.061l25.771-6.636.192.283.651 155.607-.843.846-5.31.227-20.159-3.138-.302-.794V58.061M59.705 218.971l.095.007 68.027 19.767.173.133.296.236-.096 59.232-.2.252-68.295-33.178v-46.449",fill:"#7A3E65"}),V.jsx("path",{d:"M208.752 204.456l-80.64 19.312-40.488-9.773-27.919 4.976L128 238.878l105.405-28.537 1.118-2.18-25.771-3.705",fill:"#CFB2C1"}),V.jsx("path",{d:"M196.295 79.626l-.657-.749-66.904-19.44-.734.283-.672-.343L22.052 89.734l-.575.703.845.463 24.075 3.53.851-.289 80.64-19.311 40.488 9.773 27.919-4.977",fill:"#512843"}),V.jsx("path",{d:"M47.248 240.537l-25.771 6.221-.045-.149-1.015-155.026 1.06-1.146 25.771 3.704v146.396",fill:"#C17B9E"}),V.jsx("path",{d:"M82.04 180.403l45.96 5.391.345-.515.187-71.887-.532-.589-45.96 5.392v62.208",fill:"#7A3E65"}),V.jsx("path",{d:"M173.96 180.403L128 185.794v-72.991l45.96 5.392v62.208M196.295 79.626L128 59.72V0l68.295 33.177v46.449",fill:"#C17B9E"}),V.jsx("path",{d:"M128 0L0 61.793v175.011l21.477 9.954V90.437L128 59.72V0",fill:"#7A3E65"}),V.jsx("path",{d:"M234.523 51.425v156.736L128 238.878v59.72l128-61.794V61.793l-21.477-10.368",fill:"#C17B9E"})]})};var rX=function(){return V.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",version:"1.1",viewBox:"0 0 196 216",xmlSpace:"preserve",children:[V.jsx("path",{fill:"#0198B8",d:"M66.841 183.009c.049 4.355.097 8.71-.27 13.485-11.818-6.767-23.167-14.04-34.66-21.077-3.023-1.85-6.494-2.968-9.759-4.421-1.994-5.399-3.99-10.797-5.564-16.59 2.378.369 4.526.837 6.264 1.947 12.42 7.933 24.72 16.054 37.157 23.961 2.028 1.29 4.543 1.816 6.832 2.695z",opacity:"1"}),V.jsx("path",{fill:"#0BE5DA",d:"M56.298 102c.85-.912 1.624-2.505 2.565-2.611 3.038-.343 6.137-.139 9.679.29 1.212 1.44 1.753 2.758 2.736 3.396 17.255 11.216 34.541 22.386 51.898 33.444 1.855 1.182 4.195 1.604 6.31 2.38-.19 1.28.077 3.15-.662 3.723-1.792 1.39-4.052 2.174-6.483 2.884-1.164-1.446-1.731-2.93-2.809-3.643-7.175-4.742-14.43-9.367-21.72-13.934-4.877-3.057-9.855-5.954-14.788-8.923-1.091-.413-2.182-.827-3.71-1.653-7.963-5.393-15.49-10.373-23.016-15.353z",opacity:"1"}),V.jsx("path",{fill:"#13E5D1",d:"M129.377 138.545c-2.006-.422-4.346-.844-6.201-2.026-17.357-11.058-34.643-22.228-51.898-33.444-.983-.638-1.524-1.957-2.285-3.3 3.358-.406 6.73-.473 10.563-.1 1.243 1.615 1.78 3.14 2.856 3.903 3.597 2.547 7.509 4.656 11.063 7.256 2.387 1.748 4.374 4.043 6.254 6.143-.431.113-.606.145-.713.247-.096.092-.118.261-.172.397l5.186 1.336c1.656.136 3.312.279 4.968.406 7.268.557 12.628 3.671 15.482 10.766 1.153 2.866 3.167 5.386 4.897 8.416z",opacity:"1"}),V.jsx("path",{fill:"#07E4E3",d:"M82.727 119.17a257.804 257.804 0 0115.086 8.759c7.29 4.567 14.544 9.192 21.719 13.934 1.078.713 1.645 2.197 2.45 3.691-2.826 1.962-5.652 3.557-9.194 5.557-2.288-4.191-4.438-7.98-6.446-11.841-3.98-7.655-7.928-7.877-13.248-.74-5.877-3.234-11.26-6.38-16.642-9.524 1.993-3.225 3.986-6.449 6.275-9.837z",opacity:"1"}),V.jsx("path",{fill:"#57DB45",d:"M180.423 56.014c.762 2.732 1.524 5.464 1.853 8.58-1.646-.019-3-.2-4.05-.863-9.341-5.915-18.569-12.013-27.954-17.857-6.12-3.811-12.448-7.29-18.682-10.92-.078-2.364-.156-4.729.227-7.511 11.469 6.52 22.417 13.556 33.511 20.353 4.879 2.989 10.054 5.493 15.095 8.218z",opacity:"1"}),V.jsx("path",{fill:"#06A3BE",d:"M66.914 182.573c-2.362-.443-4.877-.97-6.905-2.259-12.437-7.907-24.737-16.028-37.157-23.96-1.738-1.11-3.886-1.58-6.217-2.344-.464-.472-.555-.944-.662-2.2.014-2.802.045-4.819.445-6.821 4.9 2.647 9.35 5.428 13.983 7.865 3.738 1.966 7.696 3.516 11.557 5.25 5.502 9.625 13.99 15.097 25.029 17.64 0 2.146 0 4.27-.073 6.83z",opacity:"1"}),V.jsx("path",{fill:"#088FB2",d:"M22.181 171.339c3.236 1.11 6.707 2.227 9.73 4.078 11.493 7.036 22.842 14.31 34.591 21.536.346 1.483.346 2.924.346 4.552-19.021-2.271-32.731-12.099-42.868-27.5-.534-.811-1.177-1.55-1.799-2.666z",opacity:"1"}),V.jsx("path",{fill:"#5CDB3C",d:"M180.408 55.677c-5.026-2.388-10.201-4.892-15.08-7.881-11.094-6.797-22.042-13.833-33.376-20.778-.418-2.055-.51-4.103-.145-6.568 1.673.084 3 .414 4.09 1.112 10.474 6.71 20.862 13.554 31.389 20.18 2.318 1.459 5.084 2.206 7.644 3.281 1.821 3.44 3.642 6.878 5.478 10.654z",opacity:"1"}),V.jsx("path",{fill:"#59DD55",d:"M131.458 35.376c6.366 3.207 12.693 6.687 18.814 10.498 9.385 5.844 18.613 11.942 27.954 17.857 1.05.664 2.404.844 3.974 1.244.501 2.046.646 4.098.38 6.545-7.279-3.892-14.065-8.316-21.058-12.385-2.192-1.275-4.942-1.59-7.436-2.346-5.384-3.857-10.328-8.777-16.286-11.25-5.178-2.148-7.703-4.195-6.342-10.163z",opacity:"1"}),V.jsx("path",{fill:"#01E3E3",d:"M15.447 90.994c-.065-4.355-.131-8.71.255-13.521 2.615.575 4.824 1.524 6.932 2.657 5.425 2.916 10.805 5.913 16.203 8.878.046 4.358.092 8.716-.295 13.527-3.835-1.435-7.207-3.382-10.647-5.197-4.118-2.173-8.296-4.234-12.448-6.344z",opacity:"1"}),V.jsx("path",{fill:"#22E3B4",d:"M100.982 92.49c-5.371.802-10.758 1.513-16.107 2.443-2.781.484-4.543-.264-5.988-2.802-3.166-5.56-6.618-10.957-10.33-17.038 2.094-1.064 3.92-1.994 6.137-2.627 1.35 1.37 2.138 2.71 3.302 3.476 6.054 3.99 12.27 7.737 18.282 11.79 1.813 1.222 3.15 3.153 4.704 4.759z",opacity:"1"}),V.jsx("path",{fill:"#66DB3A",d:"M174.883 44.68c-2.513-.732-5.279-1.48-7.597-2.938-10.527-6.626-20.915-13.47-31.39-20.18-1.09-.698-2.416-1.028-3.964-1.533-1.176-3.157-.493-4.067 3.096-3.379 17.434 3.343 30.305 13.045 39.855 28.03z",opacity:"1"}),V.jsx("path",{fill:"#07E4E3",d:"M173.516 175.205c-2.971 3.499-5.943 6.998-9.27 10.29-4.452-3.19-8.447-6.328-12.682-9.1-2.676-1.75-5.71-2.954-8.585-4.403 3.165-2.552 6.33-5.105 10.158-7.814 2.674.924 4.708 1.962 6.688 3.095 4.578 2.62 9.13 5.285 13.691 7.932z",opacity:"1"}),V.jsx("path",{fill:"#19E3BC",d:"M128.157 117.563c-5.08.066-10.162.133-15.708-.24-1.486-1.621-2.32-3.067-3.56-3.937-4.746-3.333-9.7-6.372-14.403-9.762-1.448-1.044-2.341-2.857-3.488-4.318 5.015-.057 10.03-.114 15.524.242 1.13 1.272 1.615 2.373 2.46 2.95 4.987 3.41 10.154 6.566 15.047 10.101 1.69 1.22 2.77 3.285 4.128 4.964z",opacity:"1"}),V.jsx("path",{fill:"#26E2A8",d:"M101.374 92.561c-1.947-1.676-3.283-3.607-5.096-4.83-6.011-4.052-12.228-7.798-18.282-11.789-1.164-.767-1.951-2.106-2.947-3.525 2.391-1.668 4.817-2.992 7.748-4.059 2.898 1.398 5.29 2.537 7.683 3.677 1.158 2.159 2.405 4.276 3.453 6.487 1.481 3.128 3.688 4.935 8.075 4.528 3.838 2.53 6.91 5.09 9.981 7.649-3.408.644-6.815 1.289-10.615 1.862z",opacity:"1"}),V.jsx("path",{fill:"#52DD5A",d:"M154.217 57.132c2.363.412 5.113.728 7.305 2.003 6.993 4.069 13.78 8.493 20.991 12.823.386 3.074.426 6.106.057 9.544-8.285-4.232-16.162-8.87-24.038-13.508a10797.74 10797.74 0 01-4.315-10.862z",opacity:"1"}),V.jsx("path",{fill:"#00CFD8",d:"M16.05 144.975c-.032 2.016-.063 4.033-.11 6.474-.266-1.494-.726-3.41-.731-5.328-.036-15.064.016-30.13.484-45.645 2.058.335 3.731 1.02 5.277 1.925 5.976 3.495 11.912 7.06 17.863 10.6.047 2.703.095 5.406-.273 8.51-7.515-3.888-14.615-8.178-22.472-12.926 0 3.858 0 6.64-.026 9.87-.011 3.147.004 5.844-.011 8.991-.014 3.152.002 5.853-.008 9.004-.015 3.14-.004 5.833.006 8.525z",opacity:"1"}),V.jsx("path",{fill:"#22E2AA",d:"M112.026 99.266c3.355-.08 6.71-.16 10.58.153 7.661 4.795 14.808 9.196 21.955 13.596v4.757c-3.706 0-7.16 0-11.087-.418-1.152-1.264-1.678-2.334-2.536-2.918-5.006-3.407-10.197-6.553-15.088-10.114-1.635-1.19-2.57-3.343-3.824-5.056z",opacity:"1"}),V.jsx("path",{fill:"#0BE5DA",d:"M38.909 88.559c-5.47-2.516-10.85-5.513-16.275-8.429-2.108-1.133-4.317-2.082-6.836-3.111-.392-3.025-.428-6.053-.01-9.536 2.605.583 4.8 1.543 6.903 2.674 5.414 2.913 10.786 5.902 16.176 8.86.038 3.03.076 6.062.042 9.542z",opacity:"1"}),V.jsx("path",{fill:"#04D9DF",d:"M142.637 172.105c3.216 1.336 6.251 2.54 8.927 4.29 4.235 2.772 8.23 5.91 12.376 9.23-1.94 2.225-3.928 4.112-6.416 5.68-2.805-2.126-5.087-3.967-7.423-5.736-4.688-3.55-9.406-7.062-14.111-10.59 2.101-.92 4.203-1.841 6.647-2.874z",opacity:"1"}),V.jsx("path",{fill:"#07E4E3",d:"M56.216 102.46c7.609 4.52 15.135 9.5 22.722 14.795-7.345.314-14.751.314-22.804.314 0-4.869 0-9.758.082-15.108z",opacity:"1"}),V.jsx("path",{fill:"#00D9DE",d:"M38.904 112.552c-6.022-3.09-11.958-6.656-17.934-10.151-1.546-.904-3.22-1.59-5.178-2.382-.41-2.718-.475-5.43-.443-8.582 4.25 1.667 8.428 3.728 12.546 5.9 3.44 1.816 6.812 3.763 10.576 5.658.41 3.04.456 6.074.433 9.557z",opacity:"1"}),V.jsx("path",{fill:"#02ABC3",d:"M16.418 144.989c-.38-2.706-.39-5.398-.012-8.534 2.24.512 4.135 1.395 5.936 2.439 5.769 3.34 11.503 6.74 17.25 10.117.75 2.772 1.498 5.544 2.306 8.705-3.801-1.346-7.759-2.896-11.497-4.862-4.633-2.437-9.084-5.218-13.983-7.865z",opacity:"1"}),V.jsx("path",{fill:"#14E4C7",d:"M90.544 99.234c1.6 1.533 2.494 3.346 3.942 4.39 4.703 3.39 9.657 6.43 14.404 9.762 1.239.87 2.073 2.316 3.106 3.838-2.395.419-4.804.497-7.903.314-1.82-.378-2.949-.495-4.078-.611-2.166-2.05-4.153-4.345-6.54-6.093-3.554-2.6-7.466-4.71-11.063-7.256-1.077-.763-1.613-2.288-2.409-3.804 3.355-.43 6.722-.521 10.541-.54z",opacity:"1"}),V.jsx("path",{fill:"#00BDCD",d:"M16.08 126.997c-.014-2.698-.029-5.395.343-8.539 2.267.537 4.164 1.488 6.024 2.508 5.47 2.998 10.925 6.023 16.386 9.038.048 3.032.096 6.064-.268 9.501-7.769-3.9-15.127-8.204-22.484-12.508z",opacity:"1"}),V.jsx("path",{fill:"#14E4C7",d:"M39.985 66.998c-.326 2.73-.653 5.46-1.395 8.557-1.717-.33-3.022-1.016-4.317-1.721-6.023-3.282-12.043-6.569-18.064-9.854.57-2.436 1.14-4.873 2.25-7.643a29.74 29.74 0 017.06 2.707c4.853 2.594 9.648 5.296 14.466 7.954z",opacity:"1"}),V.jsx("path",{fill:"#02B4C8",d:"M16.05 127.446c7.388 3.855 14.746 8.16 22.445 12.509.642 2.778.942 5.511 1.17 8.65-5.82-2.971-11.554-6.371-17.323-9.711-1.801-1.044-3.695-1.927-5.91-2.888-.379-2.707-.395-5.408-.381-8.56z",opacity:"1"}),V.jsx("path",{fill:"#00C6D3",d:"M38.904 129.564c-5.532-2.575-10.987-5.6-16.457-8.598a74.807 74.807 0 00-5.998-2.956c-.36-2.785-.36-5.567-.36-9.425 7.856 4.748 14.956 9.038 22.4 13.372.391 2.418.439 4.792.415 7.607z",opacity:"1"}),V.jsx("path",{fill:"#19E3BC",d:"M159.333 145.996c0-2.371 0-4.742.456-7.537 2.769.814 5.081 2.052 7.395 3.286 5.17 2.758 10.34 5.513 15.511 8.27-.218 2.093-.435 4.186-1.201 6.632-2.487-.413-4.517-1.009-6.349-1.978-5.313-2.81-10.547-5.771-15.812-8.673z",opacity:"1"}),V.jsx("path",{fill:"#36E087",d:"M43.012 25.04c1.452-.952 2.904-1.903 4.846-2.6 6.652 4.024 12.816 7.791 18.98 11.558-.346 3.21-.692 6.42-1.446 9.266-1.63-1.61-2.685-3.108-4.105-4.06-4.952-3.319-10.12-6.323-15.008-9.73-1.426-.994-2.196-2.93-3.267-4.434z",opacity:"1"}),V.jsx("path",{fill:"#22E2AA",d:"M182.848 137.005c.043 2.042.085 4.084-.298 6.554-5.814-2.777-11.152-6.073-16.617-9.141-1.954-1.097-4.217-1.646-6.338-2.445-.083-2.362-.166-4.724.204-7.511 1.925.273 3.46.865 4.857 1.688 6.086 3.582 12.132 7.23 18.192 10.855z",opacity:"1"}),V.jsx("path",{fill:"#10D2DA",d:"M135.591 174.997c5.104 3.51 9.822 7.021 14.51 10.572 2.336 1.769 4.618 3.61 7.07 5.788-1.752 1.637-3.65 2.903-5.878 3.865-6.792-4.604-13.253-8.903-19.714-13.201-.304-3.114-1.881-6.883 4.012-7.024z",opacity:"1"}),V.jsx("path",{fill:"#2EE29A",d:"M182.85 123.001c.044 2.044.088 4.087-.298 6.559-2.865-.817-5.323-2.023-7.734-3.316-5.092-2.732-10.158-5.51-15.235-8.268-.083-2.367-.165-4.733.205-7.523 1.196-.108 1.986.128 2.677.533 6.804 3.99 13.593 8.006 20.386 12.015z",opacity:"1"}),V.jsx("path",{fill:"#34E192",d:"M42.672 25.09c1.41 1.454 2.181 3.39 3.607 4.384 4.889 3.407 10.056 6.411 15.008 9.73 1.42.952 2.475 2.45 3.713 4.031a22.66 22.66 0 01-6.684 2.299c-1.223-1.3-1.863-2.572-2.894-3.245-6.364-4.15-12.816-8.163-19.239-12.223 2.05-1.641 4.1-3.283 6.489-4.975z",opacity:"1"}),V.jsx("path",{fill:"#2EE29A",d:"M35.89 30.195a473.368 473.368 0 0119.532 12.094c1.031.673 1.67 1.946 2.525 3.284-1.092.995-2.22 1.647-4.042 2.354a312.328 312.328 0 01-19.87-11.69c-.703-.449-.679-2.038-.991-3.097.85-.94 1.7-1.878 2.845-2.945z",opacity:"1"}),V.jsx("path",{fill:"#3CDF74",d:"M182.838 95.002c.044 2.044.087 4.087-.3 6.558-3.87-1.491-7.28-3.461-10.755-5.314-4.021-2.144-8.098-4.185-12.151-6.27-.091-2.039-.182-4.078.203-6.542a33.016 33.016 0 018.01 3.094c5.042 2.744 10 5.64 14.993 8.474z",opacity:"1"}),V.jsx("path",{fill:"#38DF7C",d:"M159.495 90.398c4.19 1.663 8.267 3.704 12.288 5.848 3.474 1.853 6.886 3.823 10.687 5.747.41 2.048.456 4.09.076 6.562-3.872-1.488-7.29-3.459-10.77-5.313-4.032-2.148-8.117-4.193-12.179-6.283-.08-2.046-.159-4.092-.102-6.56z",opacity:"1"}),V.jsx("path",{fill:"#04D9DF",d:"M76.254 129.3c5.58 2.85 10.963 5.996 16.54 9.41-.633 2.14-1.462 4.01-2.936 6.076-6.049-3.127-11.451-6.45-16.854-9.775a537.765 537.765 0 013.25-5.712z",opacity:"1"}),V.jsx("path",{fill:"#44DE6C",d:"M182.906 94.568c-5.06-2.4-10.019-5.296-15.06-8.04-2.43-1.322-5.018-2.355-7.879-3.514-.47-2.047-.597-4.1-.263-6.583 3.218.886 6.032 2.098 8.72 3.542 4.845 2.602 9.615 5.343 14.416 8.026.045 2.045.09 4.09.066 6.57z",opacity:"1"}),V.jsx("path",{fill:"#34E192",d:"M182.917 122.567c-6.86-3.575-13.648-7.592-20.452-11.581-.691-.405-1.48-.641-2.552-.96-.413-1.73-.498-3.454-.111-5.598 3.012.683 5.653 1.602 8.073 2.927 5.055 2.769 9.993 5.751 14.98 8.646.043 2.044.086 4.088.062 6.566z",opacity:"1"}),V.jsx("path",{fill:"#0BE5DA",d:"M173.79 175.063c-4.836-2.505-9.387-5.17-13.965-7.79a75.774 75.774 0 00-6.388-3.251 24.082 24.082 0 013.526-6.486c6.92 4.175 13.374 8.288 19.829 12.401-.91 1.662-1.818 3.323-3.001 5.126z",opacity:"1"}),V.jsx("path",{fill:"#00C6D3",d:"M131.465 182.46c6.575 3.86 13.036 8.158 19.505 12.8-2.413 1.401-4.832 2.458-7.663 3.16-4.167-2.713-7.922-5.073-11.677-7.433-.093-2.696-.186-5.393-.165-8.528z",opacity:"1"}),V.jsx("path",{fill:"#14E4C7",d:"M159.236 146.383c5.362 2.515 10.596 5.475 15.909 8.286 1.832.97 3.862 1.565 6.17 2.331-.242 2.213-.853 4.426-2.005 6.782-4.846-2.523-9.07-5.332-13.486-7.796-2.34-1.306-5.014-2.011-7.537-2.988.284-2.076.568-4.152.949-6.615z",opacity:"1"}),V.jsx("path",{fill:"#48DD63",d:"M182.907 87.574c-4.868-2.258-9.638-5-14.482-7.601-2.69-1.444-5.503-2.656-8.62-3.972-.713-2.409-1.067-4.818-1.347-7.617 7.95 4.248 15.827 8.886 24.044 13.568.385 1.761.428 3.479.405 5.622z",opacity:"1"}),V.jsx("path",{fill:"#3BE189",d:"M182.921 115.566c-5.053-2.46-9.99-5.442-15.046-8.21-2.42-1.326-5.061-2.245-7.952-3.343-.431-2.064-.513-4.132-.46-6.628 4.196 1.664 8.281 3.71 12.312 5.857 3.48 1.854 6.899 3.825 10.708 5.747.41 2.05.457 4.096.438 6.577z",opacity:"1"}),V.jsx("path",{fill:"#22E2AA",d:"M47.885 52.757c-.817.965-1.634 1.931-3.08 3.02-7.014-4.162-13.399-8.447-19.784-12.732.813-1.245 1.626-2.49 3.083-3.849 4.956 2.48 9.387 4.9 13.535 7.734 2.324 1.588 4.18 3.862 6.246 5.827z",opacity:"1"}),V.jsx("path",{fill:"#19E3BC",d:"M40.25 66.76c-5.083-2.42-9.878-5.122-14.731-7.716-2.112-1.129-4.343-2.034-6.888-3.041.25-1.793.87-3.585 2.047-5.683 2.473.551 4.455 1.287 6.292 2.287 5.016 2.732 9.972 5.576 14.952 8.376-.47 1.846-.939 3.692-1.673 5.776z",opacity:"1"}),V.jsx("path",{fill:"#22E3B4",d:"M42.186 60.792c-5.244-2.609-10.2-5.453-15.216-8.185-1.837-1-3.819-1.736-6.082-2.585.951-2.219 2.25-4.445 3.84-6.824 6.678 4.132 13.063 8.417 19.794 12.73-.46 1.576-1.266 3.124-2.336 4.864zM159.464 132.392c2.252.38 4.515.929 6.469 2.026 5.465 3.068 10.803 6.364 16.552 9.575.379 1.73.397 3.455.313 5.601-5.273-2.336-10.444-5.091-15.614-7.849-2.314-1.234-4.626-2.472-7.27-3.712-.414-1.743-.497-3.483-.45-5.641z",opacity:"1"}),V.jsx("path",{fill:"#2CE2A4",d:"M159.455 118.395c5.205 2.34 10.271 5.117 15.363 7.849a115.926 115.926 0 007.67 3.75c.408 2.051.453 4.097.429 6.578-6.13-3.191-12.175-6.84-18.26-10.422-1.399-.823-2.933-1.415-4.735-2.115-.418-1.742-.506-3.481-.467-5.64z",opacity:"1"}),V.jsx("path",{fill:"#34E192",d:"M107.005 77c.83-1.862 1.66-3.724 3.114-5.754 6.028 3.442 11.431 7.05 16.835 10.66-.85 1.562-1.7 3.124-3.171 4.838-6.008-3.147-11.393-6.445-16.778-9.743z",opacity:"1"}),V.jsx("path",{fill:"#13E5D1",d:"M158.124 153.32c2.686.655 5.36 1.36 7.7 2.666 4.416 2.464 8.64 5.273 13.304 8.085-.331 1.922-1.024 3.697-2.027 5.67-6.764-3.917-13.219-8.03-19.872-12.406.112-1.406.422-2.55.895-4.015z",opacity:"1"}),V.jsx("path",{fill:"#10D2DA",d:"M72.707 135.176c5.7 3.16 11.102 6.483 16.876 9.808-.464 1.924-1.298 3.846-2.388 6.357l-18.676-9.997c1.469-2.266 2.68-4.134 4.188-6.168z",opacity:"1"}),V.jsx("path",{fill:"#40E28D",d:"M127.235 81.727c-5.685-3.43-11.088-7.04-16.845-10.681.36-1.67 1.074-3.307 2.092-5.642l18.892 9.704c-1.531 2.556-2.695 4.498-4.14 6.619z",opacity:"1"}),V.jsx("path",{fill:"#32E29F",d:"M106.734 77.187c5.656 3.112 11.04 6.41 16.77 9.736-2.041 4.98-6.953 2.77-11.099 3.845-3.487-2.629-6.559-5.188-9.995-7.75 1.108-1.883 2.581-3.764 4.324-5.83z",opacity:"1"}),V.jsx("path",{fill:"#26E2A8",d:"M144.662 112.586c-7.248-3.971-14.395-8.372-21.603-13.101 3.302-.374 6.663-.42 10.541-.073 4.004 2.466 7.492 4.54 10.98 6.613.06 2.044.121 4.088.082 6.561z",opacity:"1"}),V.jsx("path",{fill:"#2CE2A4",d:"M48.197 52.661c-2.379-1.87-4.234-4.143-6.558-5.731-4.148-2.835-8.579-5.255-13.244-7.882 1.117-1.9 2.587-3.768 4.353-5.772.608.923.584 2.512 1.287 2.96 6.318 4.029 12.765 7.857 19.54 11.745-1.446 1.528-3.256 3.057-5.378 4.68z",opacity:"1"}),V.jsx("path",{fill:"#38DF7C",d:"M66.904 33.565c-6.23-3.334-12.394-7.101-18.71-11.163a27.463 27.463 0 017.47-3.006c3.998 2.755 7.584 5.18 11.17 7.604.045 2.043.09 4.087.07 6.565z",opacity:"1"}),V.jsx("path",{fill:"#00BDCD",d:"M131.497 191.427c3.888 1.92 7.643 4.28 11.448 6.969-3.55 1.412-7.15 2.496-11.582 3.83 0-3.906 0-7.133.134-10.8z",opacity:"1"}),V.jsx("path",{fill:"#32E6BE",d:"M111.61 99.179c1.67 1.8 2.605 3.952 4.24 5.143 4.89 3.56 10.082 6.707 15.088 10.114.858.584 1.384 1.654 2.086 2.837-1.387.386-2.797.437-4.537.388-1.688-1.777-2.768-3.841-4.458-5.062-4.893-3.535-10.06-6.69-15.047-10.1-.845-.578-1.33-1.68-2-2.884 1.392-.404 2.802-.464 4.628-.436z",opacity:"1"}),V.jsx("path",{fill:"#3CDF74",d:"M66.901 26.546c-3.653-1.97-7.239-4.395-10.86-7.165 3.35-1.367 6.735-2.387 10.928-3.65 0 3.915 0 7.138-.068 10.815z",opacity:"1"}),V.jsx("path",{fill:"#23E0D5",d:"M16.109 64.287c6.121 2.978 12.14 6.265 18.164 9.547 1.295.705 2.6 1.392 4.249 2.12.395.793.442 1.553.417 2.688-5.462-2.583-10.834-5.572-16.248-8.485-2.103-1.131-4.298-2.09-6.798-3.113-.193-.806-.039-1.628.216-2.757z",opacity:"1"}),V.jsx("path",{fill:"#32E29F",d:"M144.68 105.59c-3.588-1.639-7.076-3.712-10.626-6.115 3.355-.33 6.772-.33 10.726-.33 0 2.18 0 4.094-.1 6.444zM90.45 71.705c-2.363-.81-4.755-1.95-7.3-3.396.974-1.133 2.102-1.96 3.466-2.96 1.41 2.235 2.607 4.13 3.834 6.356z",opacity:"1"}),V.jsx("path",{fill:"#32E6BE",d:"M99.73 116.977c1.414.066 2.543.183 3.91.537.249.441.26.644.33 1.145-1.669-.147-3.397-.593-5.126-1.038.054-.136.076-.305.172-.397.107-.102.282-.134.713-.247z",opacity:"1"})]})};var rJ=function(){return V.jsx("svg",{version:"1.2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1594 1595",width:"24",height:"24",style:{fill:"inherit"},children:V.jsx("path",{fillRule:"evenodd",d:"m877 11.5l-32.8 403.8c-15.5-1.8-31-2.7-46.9-2.7-19.9 0-39.4 1.3-58.5 4.4l-18.6-195.6c-0.4-6.2 4.5-11.6 10.7-11.6h33.2l-16-197.8c-0.4-6.2 4.5-11.6 10.2-11.6h108.5c6.2 0 11.1 5.4 10.2 11.1zm-166.1 410.4c-35 8-68.2 20.8-98.8 37.6l-84.6-177.5c-2.6-5.3 0-11.9 5.8-14.2l31.4-11.5-82.8-180.6c-2.6-5.3 0-11.9 5.8-14.2l101.9-37.2c5.7-2.2 11.9 1.4 13.7 7.1 0.4 0 107.6 390.5 107.6 390.5zm-357.4-278l234.3 330.2c-29.7 19.5-56.7 42.5-79.7 69.1l-140.5-138.1c-4.4-4.4-3.9-11.5 0.5-15.5l25.7-21.3-139.6-141.2c-4.4-4.4-3.9-11.5 0.9-15.5l82.9-69.5c4.8-4 11.5-3.1 15 1.8zm136.9 421.4c-21.3 27.9-38.5 58.9-51.4 92.1l-178.9-81.9c-5.8-2.2-8-9.3-4.9-14.6l16.8-28.8-179.8-85c-5.3-2.6-7.5-9.3-4.4-14.6l54-93.8c3.1-5.3 10.2-7.1 15.1-3.6zm-466 24.8c0.9-6.2 7.1-9.7 12.8-8.4l392 102.3c-10.2 33.2-15.9 68.2-16.8 104.5l-196.2-16c-6.2-0.4-10.7-6.2-9.3-12.4l5.7-32.7-198-18.6c-6.2-0.5-10.1-6.2-9.3-12.4l18.6-106.7zm-15 264.7l403.5-37.2c1.8 35.9 8.9 70.9 19.9 103.6l-189.5 52.3c-5.8 1.3-12-2.2-12.9-8.4l-5.7-32.8-192.3 50c-5.7 1.4-11.9-2.2-12.8-8.4l-19.1-106.7c-0.9-6.2 3.1-11.9 9.3-12.4zm63.4 280.7c-3.1-5.3-0.9-11.9 4.4-14.6l365.9-173.5c13.7 32.7 32.3 63.3 54.4 90.7l-160.3 114.2c-4.9 3.6-12 2.2-15.1-3.1l-16.8-29.2-163.4 112.9c-4.9 3.5-12 1.8-15.1-3.5 0 0-54.5-93.9-54-93.9zm525.7-9.3l-111.6 162c-3.5 5.4-10.6 6.2-15.5 2.3l-25.7-21.7-115.1 162c-3.6 4.9-10.2 5.8-15.1 1.8l-83.3-69.5c-4.8-4-5.3-11.1-0.9-15.5l284.8-288.2c24.4 25.6 52.3 48.2 82.4 66.8zm-138.6 395.8c-5.8-2.2-8.4-8.9-5.8-14.2l168.8-368.3c31 15.9 64.7 27.9 99.7 34.5l-49.7 190.4c-1.3 5.7-7.9 9.3-13.7 7.1l-31.4-11.5-52.7 191.7c-1.8 5.7-8 9.3-13.8 7l-101.8-37.1zm337.5-340c19.9 0 39.4-1.4 58.4-4.5l18.6 195.7c0.5 6.2-4.4 11.5-10.6 11.5h-33.2l15.9 197.9c0.9 6.2-3.9 11.5-10.1 11.5h-108.6c-5.7 0-10.6-5.3-10.2-11.5l32.8-403.7c15.5 2.2 31 3.1 47 3.1zm174.5-728.3c-31-15.5-64.2-27.5-99.7-34.5l49.6-190.4c1.8-5.8 8-9.3 13.8-7.1l31.4 11.5 52.7-191.7c1.8-5.7 8-9.3 13.8-7.1l101.8 37.2c5.8 2.2 8.5 8.4 5.8 14.2zm391.6-207.2l-284.9 288.2c-23.9-25.7-51.3-48.2-81.9-66.8l111.6-162.1c3.6-4.8 10.7-6.2 15.5-2.2l25.7 21.7 115.2-162c3.5-4.9 10.6-5.8 15-1.8l83.3 69.5c4.9 4 4.9 11.1 0.5 15.5zm153.7 227.1l-365.9 173.6c-14.2-32.8-32.3-63.4-54.5-90.8l160.3-114.2c4.9-4 12-2.2 15.1 3.1l16.8 28.8 163.5-112.9c4.9-3.1 11.9-1.8 15 3.5l54.5 93.9c3.1 5.3 1.4 11.9-4.4 14.6zm58 146.5l18.6 106.7c0.9 6.2-3.1 11.5-9.3 12.4l-403.5 37.6c-1.8-36.3-8.9-70.8-19.9-103.6l189.6-52.2c5.7-1.8 11.9 2.2 12.8 8.4l5.8 32.8 192.2-50.1c5.8-1.3 12 2.3 12.8 8.5zm-18.6 391.3l-392-102.3c10.2-33.2 16-68.1 16.9-104.4l196.2 15.9c6.2 0.9 10.2 6.2 9.3 12.4l-5.8 32.8 198 18.6c6.2 0.8 10.2 6.1 9.3 12.3l-18.6 106.7c-0.9 6.2-7.1 9.8-12.8 8.5zm-104.1 243.9c-3.1 5.3-10.2 6.6-15.1 3.5l-333.5-230.2c21.3-27.9 38.5-58.9 51.4-92.1l178.9 81.9c5.8 2.7 8 9.3 4.9 14.6l-16.8 28.8 179.8 85c5.3 2.7 7.5 9.3 4.4 14.6zm-446.5-135.9c29.7-19 56.3-42.5 79.8-69l140.4 138.1c4.4 4.4 4.4 11.5-0.5 15.5l-25.7 21.2 139.6 141.3c4 4.4 4 11.5-0.9 15.4l-82.8 69.6c-4.5 3.9-11.6 3.1-15.1-1.8l-234.3-330.3zm-1.8 449.8c-5.7 2.2-11.9-1.3-13.7-7.1l-107.2-390.4c35-8 68.2-20.8 98.8-37.7l84.6 177.6c2.6 5.7 0 12.4-5.8 14.1l-31.4 11.5 82.8 180.7c2.6 5.7 0 11.9-5.8 14.1l-101.8 37.2z"})})};function rZ(t){return t.charAt(0).toUpperCase()+t.slice(1)}function r$(t){switch(t){case"azure-ad":return"Microsoft";case"github":return"GitHub";case"okta":return"Okta";case"descope":return"Descope";case"aws-cognito":return"Coginto";default:return rZ(t)}}function rQ(t){switch(t){case"google":return V.jsx(eF.default,{});case"github":return V.jsx(eT.default,{});case"azure-ad":return V.jsx(eP.default,{});case"okta":return V.jsx(rJ,{});case"auth0":return V.jsx(rG,{});case"descope":return V.jsx(rX,{});case"aws-cognito":return V.jsx(rY,{});default:return null}}var r1=function(t){var e=t.provider,r=t.onClick,n=t.isSignIn;return V.jsx(eO.default,{variant:"outlined",color:"inherit",startIcon:rQ(e.toLowerCase()),onClick:r,sx:{width:"100%",textTransform:"none",borderColor:rU[400],padding:1.5,paddingLeft:3,justifyContent:"flex-start"},children:"".concat(n?"Continue":"Sign up"," with ").concat(r$(e))})};var r0;var r2={default:"Unable to sign in.",signin:"Try signing in with a different account.",oauthsignin:"Try signing in with a different account.",redirect_uri_mismatch:"The redirect URI is not matching the oauth app configuration.",oauthcallbackerror:"Try signing in with a different account.",oauthcreateaccount:"Try signing in with a different account.",emailcreateaccount:"Try signing in with a different account.",callback:"Try signing in with a different account.",oauthaccountnotlinked:"To confirm your identity, sign in with the same account you used originally.",emailsignin:"The e-mail could not be sent.",emailverify:"Please verify your email, a new email has been sent.",credentialssignin:"Sign in failed. Check the details you provided are correct.",sessionrequired:"Please sign in to access this page."},r4=function(t){return t?(r0=r2[t.toLowerCase()])!==null&&r0!==void 0?r0:r2.default:""},r3=function(t){var e=t.title,r=t.error,n=t.providers,i=t.callbackUrl,a=t.onPasswordSignIn,u=t.onOAuthSignIn,s=t.onForgotPassword,l=t.onSignUp,c=t.renderLogo,d=t.passwordChecklistSettings;var f=z(F.useState(!1),2),p=f[0],v=f[1],m=z(F.useState(!d),2),g=m[0],x=m[1],y=z(X.useToggle(!0),2),_=y[0],b=y[1],j=z(X.useToggle(),2),w=j[0],S=j[1],C=z(F.useState(r),2),k=C[0],E=C[1],I=u&&n.length;F.useEffect(function(){E(void 0),M.resetForm()},[_]),F.useEffect(function(){E(r)},[r]);var M=T.useFormik({initialValues:{email:"",password:""},validationSchema:ek.object({email:ek.string().required(),password:ek.string().required()}),onSubmit:function(){var t=o(function(t){var e,r,n,o,u;return A(this,function(s){switch(s.label){case 0:e=t.email,r=t.password;if(!(v(!0),!!a))return[3,9];s.label=1;case 1:s.trys.push([1,7,8,9]);if(!_)return[3,3];return[4,a(e,r,i)];case 2:n=s.sent();return[3,6];case 3:o=l;if(!o)return[3,5];return[4,l(e,r,i)];case 4:o=s.sent();s.label=5;case 5:n=o;s.label=6;case 6:n;return[3,9];case 7:u=s.sent();h(u,Error)&&E(u.message);return[3,9];case 8:v(!1);return[7];case 9:return[2]}})});return function(e){return t.apply(this,arguments)}}(),validateOnBlur:!0});return V.jsxs(rK,{title:e,renderLogo:c,children:[k?V.jsx(eM.default,{sx:{my:1},severity:"error",children:r4(k)}):null,a?V.jsxs("form",{onSubmit:M.handleSubmit,children:[V.jsx(rL,{id:"email",placeholder:"Email address",size:"medium",value:M.values.email,hasError:!!M.errors.email,description:M.touched.email?M.errors.email:void 0,onBlur:M.handleBlur,onChange:function(t){return M.setFieldValue("email",t.target.value)}}),V.jsx(rL,{id:"password",placeholder:"Password",value:M.values.password,hasError:!!M.errors.password,description:M.touched.password?M.errors.password:void 0,onBlur:M.handleBlur,onChange:function(t){return M.setFieldValue("password",t.target.value)},type:w?"text":"password",size:"medium",endAdornment:V.jsx(eA.default,{position:"end",children:V.jsx(eq.default,{"aria-label":"toggle password visibility",onClick:S,children:w?V.jsx(eI.default,{}):V.jsx(eE.default,{})})})}),!_&&M.values.password.length&&d?V.jsxs(eb.default,{sx:{border:1,marginTop:1,padding:1.5,borderRadius:1,borderColor:"grey.400","& .checklist-icon":{marginTop:.5},fontSize:14},children:["Your password must contain:",V.jsx(em.default,{rules:d.rules,minLength:d.minLength,maxLength:d.maxLength,value:M.values.password,messages:d.messages,onChange:x})]}):null,_&&s?V.jsx(eD.default,{href:"#",marginTop:1,onClick:s,children:"Forgot password?"}):null,V.jsx(eO.default,{type:"submit",disabled:p||!_&&!g,variant:"contained",sx:{marginTop:3,width:"100%"},children:"Continue"})]}):null,l?V.jsx(e_.default,{direction:"row",alignItems:"center",gap:.5,marginTop:1,children:_?V.jsxs(V.Fragment,{children:[V.jsx(ej.default,{color:"text.primary",children:"Don't have an account?"}),V.jsx(eD.default,{component:"button",onClick:b,children:"Sign Up"})]}):V.jsxs(V.Fragment,{children:[V.jsx(ej.default,{color:"text.primary",children:"Already have an account?"}),V.jsx(eD.default,{component:"button",onClick:b,children:"Sign In"})]})}):null,a&&I?V.jsx(ej.default,{color:"text.primary",sx:{alignItems:"center",direction:"row",display:"flex",gap:2,marginTop:1,width:"100%",":before, :after":{content:'""',borderBottom:"1px solid ".concat(rU[400]),height:"0.5px",flex:"1 0 auto"}},children:"OR"}):null,I?V.jsx(e_.default,{color:"text.primary",marginTop:1,gap:1,children:n.map(function(t,e){return V.jsx(r1,{isSignIn:_,provider:t,onClick:function(){return u(t,i)}},"provider-".concat(e))})}):null]})};var r5=function(t){var e=t.onGoBack,r=t.onContinue;var n=z(F.useState(!1),2),i=n[0],a=n[1],u=z(F.useState(""),2),s=u[0],l=u[1],c=z(F.useState(!1),2),d=c[0],f=c[1],p=T.useFormik({initialValues:{email:""},validationSchema:ek.object({email:ek.string().email().required()}),onSubmit:function(){var t=o(function(t){var e,n;return A(this,function(i){switch(i.label){case 0:e=t.email;a(!0);i.label=1;case 1:i.trys.push([1,3,4,5]);return[4,r(e)];case 2:i.sent(),f(!0);return[3,5];case 3:n=i.sent();h(n,Error)&&l(n.message);return[3,5];case 4:a(!1);return[7];case 5:return[2]}})});return function(e){return t.apply(this,arguments)}}(),validateOnBlur:!0,validateOnChange:!1});return V.jsxs(rK,{renderLogo:d?V.jsx(eb.default,{sx:{border:3,borderColor:"success.main",borderRadius:50,width:60,height:60,display:"grid",placeItems:"center"},children:V.jsx(eR.default,{color:"success",fontSize:"large"})}):void 0,title:d?"Please check the email address ".concat(p.values.email," for instructions to reset your password."):"Enter your email address and we will send you instructions to reset your password.",children:[s?V.jsx(eM.default,{sx:{my:1},severity:"error",children:s}):null," ",d?V.jsx(eO.default,{onClick:function(){return p.handleSubmit()},color:"success",variant:"outlined",sx:{marginTop:1},children:"Resend email"}):V.jsxs("form",{onSubmit:p.handleSubmit,children:[V.jsx(rL,{id:"email",placeholder:"Email adress",size:"medium",value:p.values.email,hasError:!!p.errors.email,description:p.errors.email,onBlur:p.handleBlur,onChange:function(t){return p.setFieldValue("email",t.target.value)}}),V.jsx(eO.default,{type:"submit",disabled:i,variant:"contained",sx:{marginTop:1,width:"100%"},children:"Continue"})]}),V.jsx(eD.default,{component:"button",marginTop:1,onClick:e,children:"Go Back"})]})};var r6=function(t){var e=t.callbackUrl,r=t.onResetPassword,n=t.renderLogo,i=t.title,a=t.token;var u=z(F.useState(!1),2),s=u[0],l=u[1],c=z(F.useState(""),2),d=c[0],f=c[1],p=T.useFormik({initialValues:{newPassword:"",confirmPassword:""},validationSchema:ek.object({newPassword:ek.string().required("New password is a required field"),confirmPassword:ek.string().oneOf([ek.ref("newPassword"),void 0],"Passwords must match").required("Confirm password is a required field")}),onSubmit:function(){var t=o(function(t){var n,i;return A(this,function(o){switch(o.label){case 0:n=t.newPassword;l(!0),f("");o.label=1;case 1:o.trys.push([1,3,4,5]);return[4,r(n,a,e)];case 2:o.sent();return[3,5];case 3:i=o.sent();h(i,Error)&&f(i.message);return[3,5];case 4:l(!1);return[7];case 5:return[2]}})});return function(e){return t.apply(this,arguments)}}(),validateOnBlur:!0});return V.jsxs(rK,{renderLogo:n,title:i,children:[d?V.jsx(eM.default,{sx:{my:1},severity:"error",children:d}):null,V.jsxs("form",{onSubmit:p.handleSubmit,children:[V.jsx(rL,{id:"newPassword",placeholder:"New password",size:"medium",value:p.values.newPassword,hasError:!!p.errors.newPassword,description:p.touched.newPassword?p.errors.newPassword:void 0,onBlur:p.handleBlur,onChange:function(t){return p.setFieldValue("newPassword",t.target.value)},type:"password"}),V.jsx(rL,{id:"confirmPassword",placeholder:"Confirm password",size:"medium",value:p.values.confirmPassword,hasError:!!p.errors.confirmPassword,description:p.touched.confirmPassword?p.errors.confirmPassword:void 0,onBlur:p.handleBlur,onChange:function(t){return p.setFieldValue("confirmPassword",t.target.value)},type:"password"}),V.jsx(eO.default,{type:"submit",disabled:s,variant:"contained",sx:{marginTop:3,width:"100%"},children:"Reset Password"})]})]})};var r8=function(t){var e=t.email,r=t.onGoBack,n=t.onResend;var i=z(F.useState(!1),2),a=i[0],u=i[1],s=z(F.useState(""),2),l=s[0],c=s[1],d=z(F.useState(""),2),f=d[0],p=d[1];return V.jsxs(rK,{renderLogo:V.jsxs(V.Fragment,{children:[V.jsx(eb.default,{sx:{border:3,borderColor:"success.main",borderRadius:50,width:60,height:60,display:"grid",placeItems:"center"},children:V.jsx(eR.default,{color:"success",fontSize:"large"})}),V.jsx(ej.default,{fontSize:"18px",fontWeight:700,color:"text.primary",children:"Verify your email address"})]}),children:[l?V.jsx(eM.default,{sx:{my:1},severity:"error",children:l}):null,f?V.jsx(eM.default,{sx:{my:1},severity:"success",children:f}):null,V.jsxs(eb.default,{display:"flex",flexDirection:"column",gap:3,children:[V.jsxs(eb.default,{children:[V.jsx(ej.default,{children:"You're almost there! We've sent an email to "}),V.jsx(ej.default,{fontWeight:"fontWeightMedium",component:"span",children:e})]}),V.jsx(ej.default,{children:"Please click on the link in that email to complete your signup."}),V.jsx(ej.default,{children:"Can't find the email?"})]}),V.jsx(eO.default,{onClick:/*#__PURE__*/o(function(){var t;return A(this,function(r){switch(r.label){case 0:u(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,n(e)];case 2:r.sent(),p("Email sent successfully.");return[3,5];case 3:t=r.sent();h(t,Error)&&c(t.message);return[3,5];case 4:u(!1);return[7];case 5:return[2]}})}),color:"success",variant:"outlined",sx:{marginTop:1},disabled:a,children:"Resend email"}),V.jsx(eD.default,{component:"button",marginTop:1,onClick:r,children:"Go Back"})]})};var r7={fontFamily:["Inter","sans-serif"].join(",")},r9={MuiButton:{defaultProps:{disableElevation:!0,disableRipple:!0,sx:{textTransform:"none"}}},MuiLink:{defaultProps:{fontWeight:500}},MuiFormHelperText:{defaultProps:{sx:{m:0,fontWeight:400,color:rU[500]}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"black"}}}},nt={borderRadius:8},ne={main:rH[500],contrastText:rW},nr={main:"rgba(239, 65, 70, 1)",contrastText:rW},nn=function(t,e){return eB.default({typography:t?{fontFamily:t}:r7,components:r9,shape:nt,breakpoints:e,palette:{mode:"dark",success:ne,error:nr,background:{default:rU[850],paper:rU[900]},primary:{main:"#F80061",dark:rN[800],light:"#FFE7EB",contrastText:rW},secondary:{main:"#9757D7",dark:"#763FB8",light:"#B87FE7",contrastText:rW},divider:rU[800],text:{primary:rU[200],secondary:rU[400]}}})},ni=function(t,e){return eB.default({typography:t?{fontFamily:t}:r7,components:r9,shape:nt,breakpoints:e,palette:{mode:"light",success:ne,error:nr,background:{default:rU[50],paper:rW},primary:{main:"#F80061",dark:rN[800],light:"#FFE7EB",contrastText:rW},secondary:{main:"#9757D7",dark:"#763FB8",light:"#B87FE7",contrastText:rW},divider:rU[200],text:{primary:rU[900],secondary:rU[700]}}})},no=function(t,e,r){return t==="dark"?nn(e,r):ni(e,r)},na=eB.default({typography:r7,components:r9,shape:nt,palette:{primary:{main:rU[900]}}}),nu=eB.default({typography:r7,components:r9,shape:nt,palette:{primary:{main:rU[200]}}});var ns=function(t){var e=t.sx,r=j(t,["sx"]);var n=ew.default().palette.mode==="dark"?na:nu;return V.jsx(eL.default,{theme:n,children:V.jsx(eO.default,b(y({},r),{disableElevation:!0,disableRipple:!0,sx:b(y({},e),{textTransform:"none"})}))})};var nl=function(t){var e=t.children,r=j(t,["children"]);return V.jsx("span",{children:V.jsx(eO.default,b(y({sx:{textTransform:"none",color:function(t){return t.palette.mode==="dark"?"text.primary":t.palette.primary.main},background:function(t){return t.palette.mode==="dark"?rU[700]:t.palette.primary.light},"&:hover":{background:function(t){return t.palette.mode==="dark"?rU[700]:t.palette.primary.light}}}},r),{children:e}))})};function nc(t){var e=t.children,r=j(t,["children"]);var n=tc.useTheme();return V.jsx("span",{style:{color:n.palette.text.primary},children:V.jsx(eO.default,b(y({color:n.palette.mode==="dark"?"inherit":"primary"},r),{children:e}))})}var nd=function(){return ew.default().palette.mode==="dark"};var nf=["#fb923c","#facc15","#34d399","#38bdf8","#818cf8","#c084fc","#f472b6","#0ea5e9"],nh=["#ea580c","#ca8a04","#059669","#0284c7","#4f46e5","#9333ea","#db2777","#2563eb"],np=function(t){return t.split("").reduce(function(t,e){return t=e.charCodeAt(0)+(t<<6)+(t<<16)-t},0)},nv=function(t){var e=nd()?nf:nh;return t&&(e===nf?e=nh:e=nf),e},nm=function(t){var e=nv();return F.useCallback(function(r,n,i){if(i)return"error.main";if(r===t)return"primary.main";if(n)return"text.primary";var o=Math.abs(np(r))%e.length;return e[o]},[t])};var ng=function(t){var e=t.onError,r=t.onResolved,n=t.options,i=t.spec;var o=F.useCallback(function(t,n){if(n.length>0){e&&e(n[0].errors[0].message);return}if(t.length)return r(t)},[i]),a={},u=i.accept;Array.isArray(u)?u.forEach(function(t){typeof t=="string"&&(a[t]=[])}):typeof u=="object"&&(a=u);var s=td.useDropzone(y({onDrop:o,maxFiles:i.max_files||void 0,accept:a,maxSize:(i.max_size_mb||2)*1e6},n)),l=s.getRootProps,c=s.getInputProps,d=s.isDragActive;return{getInputProps:c,getRootProps:l,isDragActive:d}};var nx=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++){r[n-1]=arguments[n]}var i=y({},t);var o=true,a=false,u=undefined;try{for(var s=r[Symbol.iterator](),l;!(o=(l=s.next()).done);o=true){var c=l.value;delete i[c]}}catch(t){a=true;u=t}finally{try{if(!o&&s.return!=null){s.return()}}finally{if(a){throw u}}}return i},ny=nx;var n_=function(t){var e=t.description,r=t.hasError,n=t.id,i=t.label,o=t.tooltip,a=t.setField,u=j(t,["description","hasError","id","label","tooltip","setField"]);var s;var l=function(t){var e=parseFloat(t.target.value),r=u.min,i=u.max,o=u.onChange;i&&e>i?a&&a(n,i):r&&e<r?a&&a(n,r):o&&o(t,e,0)};return V.jsx(rB,{description:e,hasError:r,id:n,label:i,tooltip:o,notificationsProps:{count:((s=u.value)===null||s===void 0?void 0:s.toString())||"0",inputProps:{id:n,max:u.max,min:u.min,step:u.step||1,onChange:l}},children:V.jsx(nb,b(y({},u),{id:n,name:n}))})},nb=eU.default(eW.default)(function(t){var e=t.theme;var r=e.palette.mode==="light";return{width:"calc(100% - 18px)",marginLeft:"8px",color:rU[r?300:850],height:3,"& .MuiSlider-track":{border:"none",color:rU[500]},"& .MuiSlider-thumb":{height:15,width:15,backgroundColor:r?rU[600]:"white",border:"4px solid ".concat(r?rU[300]:rU[800]),"&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{lineHeight:1.2,fontSize:12,background:"unset",padding:0,width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"#52af77",transformOrigin:"bottom left",transform:"translate(50%, -100%) rotate(-45deg) scale(0)","&:before":{display:"none"},"&.MuiSlider-valueLabelOpen":{transform:"translate(50%, -100%) rotate(-45deg) scale(1)"},"& > *":{transform:"rotate(45deg)"}}}});var nj=function(t){var e=t.checked,r=t.description,n=t.disabled,i=t.hasError,o=t.id,a=t.inputProps,u=t.label,s=t.onChange,l=t.tooltip;return V.jsx(rB,{description:r,hasError:i,id:o,label:u,tooltip:l,children:V.jsx(nw,{name:o,disabled:n,edge:"end",onChange:s,checked:e,inputProps:a})})},nw=eU.default(function(t){return V.jsx(eN.default,y({focusVisibleClassName:".Mui-focusVisible",disableRipple:!0},t))})(function(t){var e=t.theme;var r=e.palette.mode==="dark";return{width:40,height:24,padding:0,"& .MuiSwitch-switchBase":{margin:0,padding:"4px",transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:rH[500],opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-disabled .MuiSwitch-thumb":{color:r?e.palette.grey[600]:e.palette.grey[100]},"&.Mui-disabled + .MuiSwitch-track":{opacity:r?.3:.7}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:16,height:16,boxShadow:"unset"},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:e.palette.grey[400],opacity:1,transition:e.transitions.create(["background-color"],{duration:500})}}});var nS=function(t){var e=t.description,r=t.hasError,n=t.id,i=t.label,o=t.size,a=o===void 0?"small":o,u=t.tooltip,s=t.setField,l=j(t,["description","hasError","id","label","size","tooltip","setField"]);return V.jsx(rB,{description:e,hasError:r,id:n,label:i,tooltip:u,children:V.jsx(tv.MuiChipsInput,b(y({},l),{sx:{my:.5},size:a,onChange:function(t){return s===null||s===void 0?void 0:s(n,t,!1)},inputProps:{id:n,name:n}}))})};var nC=function(t){var e=t.item,r=t.value,n=t.selected,i=t.isDarkMode,o=t.icon,a=j(t,["item","value","selected","isDarkMode","icon"]);return F.createElement(eK.default,b(y({},a),{key:r,sx:{display:"flex",justifyContent:"space-between",fontWeight:500,fontSize:"14px",color:i&&rU[400]||(n?rN[500]:rU[700]),"&:hover":{backgroundColor:i?rU[800]:rN[50],color:i?rU[400]:rN[500],"& .notification-count":{backgroundColor:i?rU[850]:rN[100],color:i?rU[400]:rN[500]}}}}),V.jsxs(e_.default,{direction:"row",alignItems:"center",spacing:1,children:[e.icon?e.icon:null,V.jsx("span",{children:e.value})]}),e.notificationCount?V.jsx(rP,{count:e.notificationCount}):null)};var nz=function(t){var e=t.children,r=t.description,n=t.disabled,i=n===void 0?!1:n,o=t.hasError,a=t.id,u=t.items,s=t.label,l=t.name,c=t.onChange,d=t.size,f=d===void 0?"small":d,h=t.tooltip,p=t.value,v=t.placeholder,m=v===void 0?"Select":v,g=t.renderLabel,x=t.onClose,_=t.sx,w=t.iconSx,S=j(t,["children","description","disabled","hasError","id","items","label","name","onChange","size","tooltip","value","placeholder","renderLabel","onClose","sx","iconSx"]);var C=nd();return V.jsx(rB,{id:a,hasError:o,description:r,label:s,tooltip:h,sx:_,children:V.jsx(eV.default,b(y({},S),{size:f,onClose:x,labelId:a,value:p===null||p===void 0?void 0:p.toString(),onChange:c,disabled:i,displayEmpty:!0,renderValue:function(){var t=u===null||u===void 0?void 0:u.find(function(t){return t.value===p});return!p||p===""?m:g&&g()||V.jsxs(tg.Stack,{direction:"row",alignItems:"center",spacing:1,children:[t===null||t===void 0?void 0:t.icon,V.jsx("span",{children:t===null||t===void 0?void 0:t.label})]})},sx:{backgroundColor:function(t){return t.palette.background.paper},borderRadius:1,"&.MuiOutlinedInput-root":{"& fieldset":{border:function(t){return"1px solid ".concat(t.palette.divider)}}}},inputProps:{id:a,name:l||a,sx:{color:"text.primary",fontSize:"14px",fontWeight:400}},MenuProps:{PaperProps:{sx:{border:function(t){return"1px solid ".concat(t.palette.divider)},boxShadow:function(t){return t.palette.mode==="light"?"0px 2px 4px 0px #0000000D":"0px 10px 10px 0px #0000000D"},"&& .Mui-selected, .Mui-selected.Mui-selected:hover":{backgroundColor:C?rU[800]:rN[50]}}},MenuListProps:{sx:{backgroundColor:C?rU[900]:""}}},IconComponent:function(t){return V.jsx(eH.default,b(y({},t),{fontSize:"16px",sx:y({px:"9px",color:i?"":"".concat(C?rU[300]:rU[600]," !important")},w)}))},children:e||(u===null||u===void 0?void 0:u.map(function(t){return V.jsx(nC,{isDarkMode:C,item:t,selected:t.value===p,value:t.value},t.value)}))}))})};var nk=function(t){var e=t.element;switch(e===null||e===void 0?void 0:e.type){case"select":var r;return V.jsx(nz,b(y({},ny(e,"setField")),{value:(r=e.value)!==null&&r!==void 0?r:""}));case"slider":var n;return V.jsx(n_,b(y({},e),{value:(n=e.value)!==null&&n!==void 0?n:0}));case"tags":var i;return V.jsx(nS,b(y({},e),{value:(i=e.value)!==null&&i!==void 0?i:[]}));case"switch":return V.jsx(nj,b(y({},ny(e,"setField")),{checked:!!e.value,inputProps:{id:e.id,name:e.id}}));case"textinput":var o;return V.jsx(rL,b(y({},ny(e,"setField")),{value:(o=e.value)!==null&&o!==void 0?o:""}));case"numberinput":var a;var u;return V.jsx(rL,b(y({},ny(e,"setField")),{type:"number",value:(u=(a=e.value)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:"0"}));default:return V.jsx(V.Fragment,{})}};var nE=function(t){var e=t.items,r=t.value,n=j(t,["items","value"]);var i=nd(),o=function(t){var e=V.jsx(eG.default,{children:t.header}),n=t.items.map(function(t){return V.jsx(nC,{isDarkMode:i,item:t,selected:t.value===r,value:t.value})});return[e].concat(E(n))};return V.jsx(nz,b(y({value:r,renderLabel:function(){var t;var n=true,i=false,o=undefined;try{for(var a=e[Symbol.iterator](),u;!(n=(u=a.next()).done);n=true){var s=u.value;var l=s.items.find(function(t){return t.value===r});if(l){t=l.label;break}}}catch(t){i=true;o=t}finally{try{if(!n&&a.return!=null){a.return()}}finally{if(i){throw o}}}return t||""}},n),{children:e.map(o)}))};var nI=function(t){var e=t.id,r=t.items,n=t.label,i=t.onChange,o=t.value,a=t.disabled,u=nd();return V.jsx(rB,{id:e,label:n,sx:{width:"fit-content"},children:V.jsx(eb.default,{sx:{border:function(t){return"1px solid ".concat(t.palette.divider)},backgroundColor:function(t){return t.palette.background.paper},borderRadius:1},children:V.jsx(eX.default,{value:r.findIndex(function(t){return t===o}),onChange:function(t,e){return i(r[e])},sx:{minHeight:"39px !important","& .MuiButtonBase-root":{textTransform:"none",zIndex:1,color:rU[u?600:500],fontSize:"14px",fontWeight:500,padding:0,minHeight:"39px !important",width:"125px"},"& .Mui-selected":{color:"white !important"},"& .MuiTabs-indicator":{background:function(t){return u?t.palette.divider:t.palette.primary.main},height:"100%",borderRadius:"5px"}},children:r.map(function(t){return V.jsx(eY.default,{disabled:a,className:"tab-".concat(t),disableRipple:!0,label:t},"tab-".concat(t))})})})})};var nM=function(t){var e=t.element;var r=ew.default();return e.url?V.jsxs(eb.default,{className:"".concat(e.display,"-audio"),children:[V.jsx(eb.default,{sx:{fontSize:"14px",lineHeight:1.72,color:r.palette.mode==="dark"?rU[300]:rU[700],marginBottom:r.spacing(.5)},children:e.name}),V.jsx("audio",{controls:!0,src:e.url})]}):null};var nO=function(t){var e=t.element,r=t.author,n=t.bgColor;var i;var o,a={width:26,height:26,fontSize:"0.75rem",mt:"-2px",bgcolor:(e===null||e===void 0?void 0:e.url)?"transparent":n};return(e===null||e===void 0?void 0:e.url)?o=V.jsx(eJ.default,{sx:a,src:e===null||e===void 0?void 0:e.url}):o=V.jsx(eJ.default,{sx:a,children:(i=r[0])===null||i===void 0?void 0:i.toUpperCase()}),V.jsx("span",{className:"message-avatar",children:o})};var nq=function(t){var e=t.name,r=t.mime,n=t.children;var i=r?r.split("/").pop():"txt";return V.jsxs(eb.default,{position:"relative",sx:function(t){return l({height:50},t.breakpoints.down("sm"),{height:36})},children:[n,V.jsxs(e_.default,{sx:function(t){return l({height:"100%",flexDirection:"row",alignItems:"center",gap:1.2,borderRadius:1,px:1.2,border:function(t){return"1px solid ".concat(t.palette.primary.main)},color:function(t){return t.palette.mode==="light"?t.palette.primary.main:t.palette.text.primary},background:function(t){return t.palette.mode==="light"?t.palette.primary.light:t.palette.primary.dark},width:160},t.breakpoints.down("sm"),{width:"fit-content",maxWidth:120})},children:[V.jsx(eb.default,{sx:function(t){return l({width:"2rem"},t.breakpoints.down("sm"),{width:"1.25rem"})},children:V.jsx(tS.FileIcon,b(y({},tS.defaultStyles[i]),{extension:i}))}),V.jsx(ej.default,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:500,fontSize:"0.8rem",width:"70%"},children:e})]})]})};var nA=function(t){var e=t.element;return e.url?V.jsx(eD.default,{className:"".concat(e.display,"-file"),download:e.name,href:e.url,target:"_blank",sx:{textDecoration:"none"},children:V.jsx(nq,{name:e.name,mime:e.mime})}):null};var nD=function(t){var e=t.children;return V.jsx(eb.default,{sx:{p:1,boxSizing:"border-box",bgcolor:function(t){return t.palette.mode==="light"?rU[200]:rU[900]},borderRadius:"4px",display:"flex"},children:e})};var nT=function(t,e){var r=document.createElement("a");r.href=e,r.target="_blank",r.download=t,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},nF=function(t){var e=t.element;var r=z(F.useState(!0),2),n=r[0],i=r[1];return e.url?V.jsxs(nD,{children:[n&&V.jsx(eZ.default,{variant:"rectangular",width:"100%",height:200}),V.jsx("img",{className:"".concat(e.display,"-image"),src:e.url,onLoad:function(){return i(!1)},onClick:function(){if(e.display==="inline"){var t="".concat(e.name,".png");nT(t,e.url)}},style:{objectFit:"cover",maxWidth:"100%",margin:"auto",height:"auto",display:"block",cursor:e.display==="inline"?"pointer":"default"},alt:e.name,loading:"lazy"})]}):null};var nP=function(t){var e=t.element;if(!e.url)return null;var r=e.page?"".concat(e.url,"#page=").concat(e.page):e.url;return V.jsx("iframe",{className:"".concat(e.display,"-pdf"),src:r,style:{border:"none"},width:"100%",height:"100%"})};var nR=/*#__PURE__*/function(t){f(r,t);var e=q(r);function r(){a(this,r);var t;t=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)));t.state={hasError:!1,error:void 0};return t}s(r,[{key:"componentDidCatch",value:function t(t,e){console.error("Uncaught error:",t,e)}},{key:"render",value:function t(){if(this.state.hasError){var t=this.props.prefix?"".concat(this.props.prefix,": ").concat(this.state.error):this.state.error;return V.jsx(eb.default,{flexGrow:1,children:V.jsx(eM.default,{severity:"error",children:t})})}return this.props.children}}],[{key:"getDerivedStateFromError",value:function t(t){return{hasError:!0,error:t.message}}}]);return r}(F.Component);var nB=function(){var t=o(function(t){var e,r;return A(this,function(n){switch(n.label){case 0:return[4,fetch(t)];case 1:e=n.sent();if(!e.ok)throw new Error("Network response was not ok");r=e.headers.get("content-type");return[2,r&&r.includes("application/json")?e.json():e.text()]}})});return function e(e){return t.apply(this,arguments)}}(),nL=function(t){return e$.default(t,nB)};var nW=F.lazy(function(){return import("react-plotly.js")}),nU=function(t){var e=t.element;var r=nL(e.url||null),n=r.data,i=r.error,o=r.isLoading;if(o)return V.jsx("div",{children:"Loading..."});if(i)return V.jsx("div",{children:"An error occured"});var a;if(n)a=n;else return null;return V.jsx(F.Suspense,{fallback:V.jsx("div",{children:"Loading..."}),children:V.jsx(nW,{className:"".concat(e.display,"-plotly"),data:a.data,layout:a.layout,frames:a.frames,config:a.config,style:{width:"100%",height:"100%"},useResizeHandler:!0})})},nN=function(t){return V.jsx(nR,{prefix:"Failed to load chart.",children:V.jsx(nU,y({},t))})};var nH=function(t){var e=t.value,r=t.edge;var n=z(F.useState(!1),2),i=n[0],o=n[1],a=z(X.useCopyToClipboard(),2),u=a[0],s=a[1];return V.jsx(ez.default,{title:i?"Copied to clipboard!":"Copy",onClose:function(){o(!1)},sx:{zIndex:2},children:V.jsx(eq.default,{color:"inherit",edge:r,onClick:function(){s(e).then(function(){o(!0)}).catch(function(t){return console.log("An error occurred while copying: ",t)})},children:V.jsx(e5.default,{sx:{height:16,width:16}})})})};var nV=function(t){var e=t.language,r=t.children;var n=F.useRef(null);return F.useEffect(function(){n.current&&(n.current.getAttribute("data-highlighted")==="yes"||e3.default.highlightElement(n.current))},[]),V.jsx("pre",{style:{margin:0},children:V.jsx("code",{ref:n,style:{borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",fontFamily:"monospace",fontSize:"14px"},className:"language-".concat(e),children:r})})},nK=function(t){var e=t.children,r=j(t,["children"]);var n,i,o,a,u,s;var l=nd(),c=(i=r.node)===null||i===void 0?void 0:(n=i.children)===null||n===void 0?void 0:n[0],d=c===null||c===void 0?void 0:(a=c.properties)===null||a===void 0?void 0:(o=a.className)===null||o===void 0?void 0:o[0],f=/language-(\w+)/.exec(d||""),h=c===null||c===void 0?void 0:(s=c.children)===null||s===void 0?void 0:(u=s[0])===null||u===void 0?void 0:u.value,p=f&&h,v=p?V.jsx(nV,{language:f[1],children:h}):null,m=p?null:V.jsx(eb.default,{sx:{background:l?rU[900]:rU[200],borderRadius:"4px",padding:function(t){return t.spacing(1)},paddingRight:"2.5em",minHeight:"20px",overflowX:"auto"},children:V.jsx("code",b(y({},r),{style:{whiteSpace:"pre-wrap"},children:e}))});return V.jsxs(eb.default,{sx:{position:"relative"},children:[V.jsxs(e_.default,{px:2,py:.5,direction:"row",sx:{justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",background:l?rU[900]:rU[200]},children:[V.jsx(ej.default,{variant:"caption",children:(f===null||f===void 0?void 0:f[1])||"Raw code"}),V.jsx(nH,{edge:"end",value:h})]}),v,m]})};var nG={avatars:[],defaultCollapseContent:!1,expandAll:!1,hideCot:!1,highlightedMessage:null,loading:!1,onElementRefClick:void 0,onFeedbackUpdated:void 0,onPlaygroundButtonClick:void 0,showFeedbackButtons:!0,onError:function(){},uiName:""},nY=F.createContext(nG);var nX=function(t){var e=t.element;var r=F.useContext(nY),n=r.onElementRefClick;return e.display==="inline"?V.jsx("span",{style:{fontWeight:700},children:e.name}):V.jsx(eD.default,{role:"link",className:"element-link",sx:{cursor:"pointer"},onClick:function(){return n&&n(e)},children:e.name})};var nJ=function(t){var e=t.children,r=j(t,["children"]);var n=nd();return V.jsx(eb.default,{sx:{display:"inline",position:"relative"},children:V.jsx("code",b(y({},r),{style:{background:n?rU[900]:rU[200],borderRadius:"4px",padding:"0.2em 0.4em",overflowX:"auto"},children:e}))})};function nZ(t){var e=t.refElements,r=t.allowHtml,n=t.latex,i=t.children;var o=F.useMemo(function(){var t=[];return r&&(t=[e0.default].concat(E(t))),n&&(t=[e1.default].concat(E(t))),t},[r,n]),a=F.useMemo(function(){var t=[e2.default];return n&&(t=[e4.default].concat(E(t))),t},[n]);return V.jsx(eQ.default,{remarkPlugins:a,rehypePlugins:o,className:"markdown-body",components:{a:function t(t){var r=t.children,n=j(t,["children"]);var i=r,o=e===null||e===void 0?void 0:e.find(function(t){return t.name===i});return o?V.jsx(nX,{element:o}):V.jsx(eD.default,b(y({},n),{target:"_blank",children:r}))},code:function t(t){var e=c({},x(t));return V.jsx(nJ,y({},e))},pre:function t(t){var e=c({},x(t));return V.jsx(nK,y({},e))},table:function t(t){var e=t.children,r=j(t,["children"]);return V.jsx(rt.default,{sx:{width:"fit-content",minWidth:"300px"},elevation:0,component:e6.default,children:V.jsx(e8.default,b(y({},r),{children:e}))})},thead:function t(t){var e=t.children,r=j(t,["children"]);return V.jsx(re.default,b(y({},r),{children:e}))},tr:function t(t){var e=t.children,r=j(t,["children"]);return V.jsx(rr.default,b(y({},r),{children:e}))},th:function t(t){var e=t.children,r=j(t,["children"]);return V.jsx(e9.default,b(y({},r),{align:"right",sx:{padding:1},children:e}))},td:function t(t){var e=t.children,r=j(t,["children"]);return V.jsx(e9.default,b(y({},r),{align:"right",sx:{padding:1},children:e}))},tbody:function t(t){var e=t.children,r=j(t,["children"]);return V.jsx(e7.default,b(y({},r),{children:e}))}},children:i})}var n$=function(t){var e=t.element;var r=nL(e.url||null),n=r.data,i=r.error,o=r.isLoading,a;return o?a="Loading...":i?a="An error occured":n&&(console.log("data"+n),a=n.content),e.language&&a&&!o&&!i&&(a="```".concat(e.language,"\n").concat(a,"\n```")),V.jsx(eb.default,{sx:{fontFamily:function(t){return t.typography.fontFamily}},children:V.jsx(nZ,{children:a})})};var nQ=function(t){var e=t.element;return e.url?V.jsx("video",{className:"".concat(e.display,"-video"),width:"100%",controls:!0,src:e.url}):null};var n1=function(t){var e=t.element;switch(e===null||e===void 0?void 0:e.type){case"file":return V.jsx(nA,{element:e});case"image":return V.jsx(nF,{element:e});case"text":return V.jsx(n$,{element:e});case"pdf":return V.jsx(nP,{element:e});case"audio":return V.jsx(nM,{element:e});case"video":return V.jsx(nQ,{element:e});case"plotly":return V.jsx(nN,{element:e});default:return null}};var n0=400,n2=F.forwardRef(function(t,e){var r=c({},x(t));return delete r.handleAxis,V.jsx(eb.default,b(y({sx:{boxSizing:"content-box",width:"4px",height:"24px",position:"absolute",top:"50%",marginTop:"-12px",left:0,cursor:"ew-resize",padding:"10px 5px"},ref:e},r),{children:V.jsx(eb.default,{sx:{boxSizing:"content-box",width:"100%",height:"100%",backgroundColor:"grey.300",borderRadius:"4px"}})}))}),n4=function(t){var e=t.children,r=t.element,n=t.isOpen,i=t.onClose;var o=z(F.useState(!1),2),a=o[0],u=o[1],s=z(F.useState(n0),2),l=s[0],c=s[1],d=function(t,e){return c(e.size.width)},f=X.useWindowSize(),h=f.width,p=ro.default(function(t){return t.breakpoints.down("sm")});return l<n0&&p&&c(n0),V.jsxs(V.Fragment,{children:[V.jsx(n3,{open:n,width:l,children:e}),V.jsx(tW.Resizable,{width:l,height:0,onResize:d,onResizeStart:function(){return u(!0)},onResizeStop:function(){return u(!1)},resizeHandles:["w"],handle:p?V.jsx(V.Fragment,{}):V.jsx(n2,{}),axis:"x",minConstraints:[100,0],maxConstraints:[h/2,0],children:V.jsxs(n5,{anchor:"right",isSmallScreen:p,open:n,variant:p?"temporary":"persistent",width:l,children:[V.jsxs(e_.default,{direction:"row",alignItems:"center",children:[V.jsx(ej.default,{noWrap:!0,fontSize:"20px",fontWeight:500,id:"side-view-title",children:r===null||r===void 0?void 0:r.name}),V.jsx(eq.default,{edge:"end",sx:{ml:"auto"},onClick:i,children:V.jsx(rn.default,{})})]}),V.jsx(eb.default,{mt:"1.5rem",id:"side-view-content",sx:{height:"100%",pointerEvents:a?"none":"auto"},children:V.jsx(n1,{element:r})})]})})]})},n3=eU.default(eb.default,{shouldForwardProp:function(t){return t!=="open"}})(function(t){var e=t.theme,r=t.open;return{width:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box",transition:e.transitions.create("margin",{easing:e.transitions.easing[r?"easeOut":"sharp"],duration:e.transitions.duration[r?"enteringScreen":"leavingScreen"]})}}),n5=eU.default(ri.default,{shouldForwardProp:function(t){return t!=="isSmallScreen"}})(function(t){var e=t.theme,r=t.open,n=t.width,i=t.isSmallScreen;return{width:n,flexShrink:0,display:r?"flex":"none","& .MuiDrawer-paper":{position:"inherit",width:n,maxWidth:i?"80%":"100%",backgroundColor:e.palette.background.paper,borderLeft:"1px solid ".concat(e.palette.divider),flexDirection:"column",borderRadius:0,color:e.palette.text.primary,whiteSpace:"nowrap",boxSizing:"border-box",padding:"1.5rem",paddingTop:".5rem",overflowX:"hidden"}}});var n6=function(t){var e=t.element,r=t.onGoBack;return V.jsxs(eb.default,{display:"flex",flexDirection:"column",flexGrow:1,p:3,gap:2,boxSizing:"border-box",mx:"auto",sx:{width:"100%",maxWidth:"60rem",color:"text.primary"},id:"element-view",children:[V.jsxs(e_.default,{direction:"row",gap:1,children:[r?V.jsx(eq.default,{edge:"start",onClick:r,children:V.jsx(ra.default,{})}):null,V.jsx(ej.default,{fontWeight:700,fontSize:"25px",children:e.name})]}),V.jsx(n1,{element:e})]})};var n8=function(t){var e=t.items;return V.jsx(e_.default,{spacing:1,children:e.map(function(t,e){return V.jsx(eb.default,{pt:.5,children:V.jsx(nM,{element:t})},e)})})};var n7=function(t){var e=t.items;return V.jsx(e_.default,{spacing:1,direction:"row",children:e.map(function(t,e){return V.jsx("div",{children:V.jsx(nA,{element:t})},e)})})};var n9=function(t){switch(t.size){case"small":return 1;case"medium":return 2;case"large":return 4;default:return 2}},it=function(t){var e=t.elements,r=t.renderElement;return V.jsx(ru.default,{sx:{margin:0,transform:"translateZ(0)",width:"100%",maxWidth:600},variant:"quilted",cols:4,gap:8,children:e.map(function(t,e){var n=n9(t),i=n9(t);return V.jsx(rs.default,{cols:n,rows:i,children:V.jsx(r,{element:t})},e)})})};var ie=function(t){var e=t.items;return V.jsx(it,{elements:e,renderElement:function(t){return V.jsx(nF,{element:t.element})}})};var ir=function(t){var e=t.items;return V.jsx(e_.default,{spacing:1,children:e.map(function(t,e){return V.jsx("div",{style:{maxWidth:"600px",height:"400px"},children:V.jsx(nP,{element:t})},e)})})};var ii=function(t){var e=t.items;return V.jsx(e_.default,{spacing:1,children:e.map(function(t,e){return V.jsx("div",{style:{maxWidth:"600px",height:"400px"},children:V.jsx(nN,{element:t})},e)})})};var io=function(t){var e=t.items;return V.jsx(e_.default,{spacing:1,children:e.map(function(t,e){return V.jsxs(eM.default,{color:"info",icon:!1,children:[V.jsx(rl.default,{children:t.name}),V.jsx(n$,{element:t})]},e)})})};var ia=function(t){var e=t.items;return V.jsx(it,{elements:e,renderElement:function(t){return V.jsx(nQ,{element:t.element})}})};var iu=function(t){var e=t.elements;var r,n,i,o,a,u,s;if(!e.length)return null;var l=e.reduce(function(t,e){return t[e.type]||(t[e.type]=[]),t[e.type].push(e),t},{});return V.jsxs(e_.default,{gap:1,mt:1,children:[((r=l.image)===null||r===void 0?void 0:r.length)?V.jsx(ie,{items:l.image}):null,((n=l.text)===null||n===void 0?void 0:n.length)?V.jsx(io,{items:l.text}):null,((i=l.pdf)===null||i===void 0?void 0:i.length)?V.jsx(ir,{items:l.pdf}):null,((o=l.audio)===null||o===void 0?void 0:o.length)?V.jsx(n8,{items:l.audio}):null,((a=l.video)===null||a===void 0?void 0:a.length)?V.jsx(ia,{items:l.video}):null,((u=l.file)===null||u===void 0?void 0:u.length)?V.jsx(n7,{items:l.file}):null,((s=l.plotly)===null||s===void 0?void 0:s.length)?V.jsx(ii,{items:l.plotly}):null]})};var is=function(t){var e=t.askUser,r=t.uploadFile,n=t.onError;var i=z(F.useState([]),2),o=i[0],a=i[1],u=o.some(function(t){return!t.uploaded}),s=o.reduce(function(t,e){return t+e.progress/o.length},0),l=function(t){if(u)return;var i=[],o=t.map(function(t,e){var n=r(t,function(t){a(function(r){return r.map(function(r,n){return n===e?b(y({},r),{progress:t}):r})})}),o=n.xhr,u=n.promise;return i.push(u),{progress:0,uploaded:!1,cancel:function(){return o.abort()}}});Promise.all(i).then(function(t){return e.callback(t)}).catch(function(t){n("Failed to upload: ".concat(t.message)),a(function(t){return t.forEach(function(t){return t.cancel()}),[]})}),a(o)},c=ng({spec:e.spec,onResolved:l,onError:function(t){return n(t)}});if(!c)return null;var d=c.getRootProps,f=c.getInputProps;return V.jsxs(e_.default,b(y({sx:{width:"100%",borderRadius:1,backgroundColor:function(t){return t.palette.background.paper},boxSizing:"border-box",mt:1},direction:"row",alignItems:"center",padding:2},d({className:"dropzone"})),{children:[V.jsx("input",y({id:"ask-button-input"},f())),V.jsxs(e_.default,{children:[V.jsx(ej.default,{color:"text.primary",children:"Drag and drop files here"}),V.jsxs(ej.default,{variant:"caption",color:"text.secondary",children:["Limit ",e.spec.max_size_mb,"mb."]})]}),V.jsx(eO.default,{id:u?"ask-upload-button-loading":"ask-upload-button",disabled:u,sx:{ml:"auto !important",textTransform:"capitalize"},variant:"contained",children:u?V.jsx(rc.default,{variant:"determinate",value:s,size:20}):"Browse Files"})]}))},il=function(t){var e=t.onError;var r;var n=F.useContext(nY);return((r=n.askUser)===null||r===void 0?void 0:r.spec.type)!=="file"||!(n===null||n===void 0?void 0:n.uploadFile)?null:V.jsx(is,{onError:e,uploadFile:n.uploadFile,askUser:n.askUser})};var ic=function(t){var e=t.timestamp;if(!e)return null;var r={hour:"2-digit",minute:"2-digit"};typeof e=="string"&&!e.endsWith("Z")&&(e=e+"Z");var n=new Date(e).toLocaleTimeString(void 0,r);return V.jsx(ej.default,{sx:{mt:"1px"},color:rU[500],fontSize:"12px",lineHeight:"unset",children:n})};var id=26,ih=function(t){var e=t.message,r=t.show,n=t.children;var i=F.useContext(nY),o=nm(i.uiName),a=e.type==="user_message",u=a?"You":e.name,s=i.avatars.find(function(t){return t.name===u}),l=r?V.jsxs(e_.default,{alignItems:"center",gap:1,children:[V.jsx(nO,{element:s,author:u,bgColor:o(u,a,e.isError)}),(!!e.indent||e.parentId)&&V.jsx(eb.default,{width:"2px",height:"100%",borderRadius:"13px",bgcolor:o(u,a)})]}):V.jsx(eb.default,{width:id}),c=V.jsxs(e_.default,{direction:"row",gap:1,alignItems:"center",children:[r?V.jsx(ej.default,{noWrap:!0,sx:{fontSize:"1rem",fontWeight:600,lineHeight:"unset"},children:u}):null,V.jsx(ic,{timestamp:e.createdAt})]});return V.jsxs(e_.default,{direction:"row",gap:1.5,width:"100%",children:[l,V.jsxs(e_.default,{gap:1,width:"calc(100% - ".concat(id+12,"px)"),children:[c,n]})]})};var ip=function(t){var e=t.message,r=t.opened,n=t.onClick,i=t.loading;var o;var a=F.useContext(nY),u=(o=e.steps)===null||o===void 0?void 0:o.length,s=!!u&&!a.hideCot,l=s?e.steps[u-1]:void 0,c=l?l.name:void 0,d=e.output,f=i&&(!d||a.hideCot&&!e.streaming);if(!(c||f))return null;var h=u?e.steps.filter(function(t){var e;return!!t.output||((e=t.steps)===null||e===void 0?void 0:e.length)}).length:0,p=i?c?"Using ".concat(c):"Running":"Took ".concat(h," step").concat(h<=1?"":"s"),v="";return c&&(v=c.trim().toLowerCase().replaceAll(" ","-")),i?v+="-loading":v+="-done",V.jsx(ns,{size:"small",id:v,sx:{marginTop:1},color:"primary",startIcon:i?V.jsx(rc.default,{color:"inherit",size:16}):void 0,variant:"contained",endIcon:s&&c?r?V.jsx(rd.default,{}):V.jsx(rf.default,{}):void 0,onClick:c?n:void 0,children:p})};var iv=function(t){var e=t.action,r=t.margin,n=t.onClick;var i;var o=F.useContext(nY),a=o.askUser,u=o.loading,s=(a===null||a===void 0?void 0:a.spec.type)==="action",l=s&&!(a===null||a===void 0?void 0:(i=a.spec.keys)===null||i===void 0?void 0:i.includes(e.id)),c=function(){s?a===null||a===void 0?void 0:a.callback(e):(e.onClick(),n===null||n===void 0?void 0:n())};return V.jsx(ez.default,{title:e.description,placement:"top",children:V.jsx("span",{children:V.jsx(eO.default,{size:"small",variant:"outlined",sx:{textTransform:"none",margin:r},id:e.id,onClick:c,disabled:u||l,children:e.label||e.name})})})};var im="16px",ig=function(t){var e=t.actions;var r=z(F.useState(null),2),n=r[0],i=r[1];return V.jsxs(V.Fragment,{children:[V.jsx(ez.default,{title:"More Actions",children:V.jsx(eq.default,{id:"actions-drawer-button",onClick:function(t){return i(t.currentTarget)},children:V.jsx(rh.default,{sx:{width:im,height:im}})})}),V.jsx(rp.default,{id:"actions-menu",anchorEl:n,open:!!n,onClose:function(){return i(null)},sx:{marginTop:1},slotProps:{paper:{sx:{boxShadow:function(t){return t.palette.mode==="light"?"0px 2px 4px 0px #0000000D":"0px 10px 10px 0px #0000000D"}}}},children:V.jsx(e_.default,{direction:"column",paddingX:2,gap:1,children:e.map(function(t){return V.jsx(iv,{onClick:function(){return i(null)},action:t,margin:0},t.id)})})})]})};var ix=function(t){var e=t.message,r=t.actions;var n=r.filter(function(t){return t.forId?t.forId===e.id:!0}),i=n.filter(function(t){return!t.collapsed}),o=n.filter(function(t){return t.collapsed});return i.length||o.length?V.jsx(e_.default,{direction:"row",spacing:1,alignItems:"start",justifyContent:"space-between",width:"100%",children:V.jsxs(eb.default,{id:"actions-list",children:[i.map(function(t){return V.jsx(iv,{action:t,margin:"2px 8px 6px 0"},t.id)}),o.length?V.jsx(ig,{actions:o}):null]})}):null};var iy=function(t){var e=t.actions,r=t.content,n=t.title,i=j(t,["actions","content","title"]);return V.jsx(rv.default,b(y({},i),{fullWidth:!0,sx:{border:function(t){return t.palette.mode==="dark"?"1px solid ".concat(ry.default[800]):null},borderRadius:1},children:V.jsxs(eb.default,{bgcolor:"background.paper",children:[n?V.jsx(rx.default,{children:V.jsx(V.Fragment,{children:n})}):null,r?V.jsx(rg.default,{children:r}):null,e?V.jsx(rm.default,{sx:{padding:function(t){return t.spacing(0,3,2)}},children:V.jsx(V.Fragment,{children:e})}):null]})}))},i_=iy;var ib="16px",ij=function(t){var e=t.message;var r,n;var i=F.useContext(nY),o=i.onFeedbackUpdated,a=z(F.useState(),2),u=a[0],s=a[1],l=z(F.useState(),2),c=l[0],d=l[1],f=z(F.useState(((r=e.feedback)===null||r===void 0?void 0:r.value)||0),2),h=f[0],p=f[1],v=z(F.useState((n=e.feedback)===null||n===void 0?void 0:n.comment),2),m=v[0],g=v[1],x=h===-1?rb.default:rj.default,_=h===1?rw.default:rS.default,j=function(t,r){o&&o(e,function(){p(t),g(r)},b(y({},e.feedback||{strategy:"BINARY"}),{forId:e.id,value:t,comment:r}))},w=function(t){h===t?j(0):s(t)},S=!!e.streaming,C=F.useMemo(function(){var t={width:ib,height:ib},e=[function(){return V.jsx(ez.default,{title:"Helpful",children:V.jsx("span",{children:V.jsx(eq.default,{color:"inherit",disabled:S,className:"positive-feedback-".concat(h===1?"on":"off"),onClick:function(){w(1)},children:V.jsx(_,{sx:t})})})})},function(){return V.jsx(ez.default,{title:"Not helpful",children:V.jsx("span",{children:V.jsx(eq.default,{color:"inherit",disabled:S,className:"negative-feedback-".concat(h===-1?"on":"off"),onClick:function(){w(-1)},children:V.jsx(x,{sx:t})})})})}];return m&&e.push(function(){return V.jsx(ez.default,{title:"Feedback",children:V.jsx("span",{children:V.jsx(eq.default,{color:"inherit",disabled:S,onClick:function(){s(h),d(m)},className:"feedback-comment-edit",children:V.jsx(r_.default,{sx:t})})})})}),e},[h,m,S]);return V.jsxs(V.Fragment,{children:[V.jsx(e_.default,{direction:"row",children:C.map(function(t,e){return V.jsx(t,{},"feedback-button-".concat(e))})}),V.jsx(i_,{maxWidth:"xs",onClose:function(){s(void 0)},open:!!u,title:V.jsxs(e_.default,{direction:"row",alignItems:"center",gap:2,children:[u===-1?V.jsx(x,{}):V.jsx(_,{}),"Provide additional feedback"]}),content:V.jsx(rL,{id:"feedbackDescription",value:c,multiline:!0,size:"medium",onChange:function(t){t.target.value===""?d(void 0):d(t.target.value)}}),actions:V.jsx(nc,{id:"feedbackSubmit",type:"submit",variant:"outlined",onClick:function(){u!=null&&j(u,c),s(void 0),d(void 0)},autoFocus:!0,children:"Submit feedback"})})]})};var iw=function(t){var e=t.step;var r=F.useContext(nY),n=r.onPlaygroundButtonClick;return V.jsx(ez.default,{title:"Inspect in prompt playground",children:V.jsx(eq.default,{color:"inherit",className:"playground-button",onClick:function(){n&&n(e)},children:V.jsx(rC.default,{sx:{width:"18px",height:"18px"}})})})};var iS=function(t){var e=t.message;var r=nd(),n=F.useContext(nY),i=n.showFeedbackButtons,o=!!e.generation,a=e.type==="user_message",u=e.waitForAnswer,s=!!e.output,l=s&&!a&&!u&&!e.disableFeedback,c=i&&!e.disableFeedback&&!a&&!u&&s;return l||o||c?V.jsxs(e_.default,{sx:{marginLeft:"-8px !important"},alignItems:"center",direction:"row",color:r?rU[400]:rU[600],children:[l?V.jsx(nH,{value:e.output}):null,c?V.jsx(ij,{message:e}):null,o?V.jsx(iw,{step:e}):null]}):null};var iC=function(t){var e=t.children,r=t.defaultExpandAll,n=r===void 0?!1:r;var i=z(X.useToggle(n),2),o=i[0],a=i[1];return V.jsxs(eb.default,{children:[V.jsx(rz.default,{in:o,collapsedSize:100,timeout:0,children:V.jsx(eb.default,{height:o?"auto":100,position:"relative",children:V.jsx(eb.default,{position:o?"relative":"absolute",top:0,left:0,right:0,bottom:0,children:e})})}),V.jsx(e_.default,{direction:"row",justifyContent:"end",children:V.jsx(ez.default,{title:o?"Collapse":"Expand",children:V.jsx(eq.default,{onClick:a,children:o?V.jsx(rd.default,{}):V.jsx(rf.default,{})})})})]})};var iz=function(t,e){return!e||!t?!1:e===t.toString()},ik=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},iE=function(t){var e=t.elements,r=t.content,n=t.id,i=t.language;var o=e.map(function(t){return ik(t.name)});o.sort(function(t,e){return e.length-t.length});var a=o.length?new RegExp("(".concat(o.join("|"),")"),"g"):void 0,u=r?r.trim():"",s=e.filter(function(t){return iz(n,t===null||t===void 0?void 0:t.forId)&&t.display==="inline"}),l=[];if(a&&(u=u.replaceAll(a,function(t){var r=e.find(function(e){var r=e.name===t,i=iz(n,e===null||e===void 0?void 0:e.forId);return r&&i}),i=!!r,o=(r===null||r===void 0?void 0:r.display)==="inline";return i?o?(s.indexOf(r)===-1&&s.push(r),t):(l.push(r),"[".concat(t,"](").concat(t.replaceAll(" ","_"),")")):t})),i){var c="```".concat(i),d="```";u.startsWith("```")||(u="".concat(c,"\n").concat(u,"\n").concat(d))}return{preparedContent:u,inlinedElements:s,refElements:l}};var iI=25,iM=3e3,iO=F.memo(function(t){var e=t.message,r=t.elements,n=t.preserveSize,i=t.allowHtml,o=t.latex;var a="role"in e&&e.role==="user",u=0,s=0,l=iE({elements:r,id:e.id,content:e.output,language:e.language}),c=l.preparedContent,d=l.inlinedElements,f=l.refElements;u+=c.split("\n").length,s+=c.length;var h=V.jsx(nZ,{allowHtml:i,latex:o,refElements:f,children:c}),p;if(e.input&&e.showInput){var v=iE({elements:r,id:e.id,content:e.input,language:typeof e.showInput=="string"?e.showInput:void 0}),m=v.preparedContent,g=v.refElements;u+=m.split("\n").length,s+=m.length,p=V.jsx(nZ,{allowHtml:i,latex:o,refElements:g,children:m})}var x=V.jsxs(ej.default,{sx:{width:"100%",minHeight:"20px",fontSize:"1rem",lineHeight:"1.5rem",fontFamily:function(t){return t.typography.fontFamily},fontWeight:a?500:300},component:"div",children:[p,p&&h?V.jsx(rk.default,{sx:{my:1}}):null,h]}),y=u>iI||s>iM?V.jsx(iC,{defaultExpandAll:n,children:x}):x;return V.jsx(e_.default,{width:"100%",direction:"row",children:V.jsxs(eb.default,{width:"100%",sx:{minWidth:"100px"},children:[c?y:null,V.jsx(iu,{elements:d})]})})});var iq=F.memo(function(t){var e=t.message,r=t.elements,n=t.actions,i=t.indent,o=t.showAvatar,a=t.showBorder,u=t.isRunning,s=t.isLast;var l=F.useContext(nY),c=l.expandAll,d=l.hideCot,f=l.highlightedMessage,h=l.defaultCollapseContent,p=l.allowHtml,v=l.latex,m=l.onError,g=z(F.useState(c),2),x=g[0],y=g[1];if(F.useEffect(function(){y(c)},[c]),d&&i)return null;var _=e.type==="user_message",b=e.waitForAnswer;return V.jsxs(eb.default,{sx:{color:"text.primary",backgroundColor:function(t){return _?"transparent":t.palette.mode==="dark"?t.palette.grey[800]:t.palette.grey[100]}},className:"step",children:[V.jsx(eb.default,{sx:{boxSizing:"border-box",mx:"auto",maxWidth:"60rem",px:2,display:"flex",flexDirection:"column",position:"relative"},children:V.jsx(e_.default,{id:"step-".concat(e.id),direction:"row",ml:i?"".concat(i*(id+12),"px"):0,sx:{py:2,borderBottom:function(t){return a?"1px solid ".concat(t.palette.divider):"none"},animation:e.id&&f===e.id?"3s ease-in-out 0.1s ".concat(iA):"none",overflowX:"auto"},children:V.jsx(ih,{message:e,show:o,children:V.jsxs(e_.default,{alignItems:"flex-start",minWidth:150,children:[V.jsx(iO,{elements:r,message:e,preserveSize:!!e.streaming||!h,allowHtml:p,latex:v}),V.jsx(ip,{message:e,opened:x,onClick:function(){return y(!x)},loading:u&&s}),!u&&s&&b&&V.jsx(il,{onError:m}),(n===null||n===void 0?void 0:n.length)?V.jsx(ix,{message:e,actions:n}):null,V.jsx(iS,{message:e})]})})})}),e.steps&&x&&V.jsx(iD,{messages:e.steps,actions:n,elements:r,indent:i+1,isRunning:u})]})}),iA=tX.keyframes(D());var iD=F.memo(function(t){var e=t.messages,r=t.elements,n=t.actions,i=t.indent,o=t.isRunning;var a=F.useContext(nY),u=i===0,s="",l=e.filter(function(t,n){var i;var u=!!t.output,s=r.find(function(e){return e.display==="inline"&&e.forId===t.id}),l=!!((i=t.steps)===null||i===void 0?void 0:i.length)&&!a.hideCot,c=n===e.length-1,d=o===void 0?a.loading&&c:o&&c;return u||s||l||!u&&d});return V.jsx(V.Fragment,{children:l.map(function(t,e){var c=t.name,d=l.length-1===e,f=o===void 0?a.loading:o;u&&(f=f&&d);var h=c!==s,p=!1;return s=c,V.jsx(iq,{message:t,elements:r,actions:n,showAvatar:h,showBorder:p,indent:i,isRunning:f,isLast:d},t.id)})})});var iT=F.memo(function(t){var e=t.actions,r=t.autoScroll,n=t.context,i=t.elements,o=t.messages,a=t.setAutoScroll;var u=F.useRef();F.useEffect(function(){!u.current||!r||(u.current.scrollTop=u.current.scrollHeight)},[o,r]);var s=function(){if(!u.current||!a)return;var t=u.current,e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight,i=e+n>=r-10;a(i)};return V.jsx(nY.Provider,{value:n||nG,children:V.jsx(eb.default,{ref:u,position:"relative",display:"flex",flexDirection:"column",flexGrow:1,sx:{overflowY:"auto"},onScroll:s,children:V.jsx(iD,{indent:0,messages:o,elements:i,actions:e})})})});var iF={setVariableName:function(){},setFunctionIndex:function(){},setPromptMode:function(){},setPlayground:function(){},onNotification:function(){},promptMode:"Formatted"},iP=F.createContext(iF);function iR(t){var e=t.children;return V.jsx(e_.default,{direction:"row",sx:{backgroundColor:function(t){return t.palette.background.paper},padding:"16px 24px",alignItems:"center",justifyContent:"flex-end",gap:2},children:e})}var iB="delete",iL=5,iW=1<<iL,iU=iW-1,iN={};function iH(){return{value:!1}}function iV(t){t&&(t.value=!0)}function iK(){}function iG(t){return t.size===void 0&&(t.size=t.__iterate(iX)),t.size}function iY(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?iG(t)+e:e}function iX(){return!0}function iJ(t,e,r){return(t===0&&!i1(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function iZ(t,e){return iQ(t,e,0)}function i$(t,e){return iQ(t,e,e)}function iQ(t,e,r){return t===void 0?r:i1(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function i1(t){return t<0||t===0&&1/t===-1/0}var i0="@@__IMMUTABLE_ITERABLE__@@";function i2(t){return!!(t&&t[i0])}var i4="@@__IMMUTABLE_KEYED__@@";function i3(t){return!!(t&&t[i4])}var i5="@@__IMMUTABLE_INDEXED__@@";function i6(t){return!!(t&&t[i5])}function i8(t){return i3(t)||i6(t)}var i7=function t(t){return i2(t)?t:oz(t)},i9=function(t){var e=function t(t){return i3(t)?t:ok(t)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i7),ot=function(t){var e=function t(t){return i6(t)?t:oE(t)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i7),oe=function(t){var e=function t(t){return i2(t)&&!i8(t)?t:oI(t)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i7);i7.Keyed=i9;i7.Indexed=ot;i7.Set=oe;var or="@@__IMMUTABLE_SEQ__@@";function on(t){return!!(t&&t[or])}var oi="@@__IMMUTABLE_RECORD__@@";function oo(t){return!!(t&&t[oi])}function oa(t){return i2(t)||oo(t)}var ou="@@__IMMUTABLE_ORDERED__@@";function os(t){return!!(t&&t[ou])}var ol=0,oc=1,od=2,of=typeof Symbol=="function"&&Symbol.iterator,oh="@@iterator",op=of||oh,ov=function t(t){this.next=t};ov.prototype.toString=function(){return"[Iterator]"};ov.KEYS=ol;ov.VALUES=oc;ov.ENTRIES=od;ov.prototype.inspect=ov.prototype.toSource=function(){return this.toString()};ov.prototype[op]=function(){return this};function om(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function og(){return{value:void 0,done:!0}}function ox(t){return Array.isArray(t)?!0:!!ob(t)}function oy(t){return t&&typeof t.next=="function"}function o_(t){var e=ob(t);return e&&e.call(t)}function ob(t){var e=t&&(of&&t[of]||t[oh]);if(typeof e=="function")return e}function oj(t){var e=ob(t);return e&&e===t.entries}function ow(t){var e=ob(t);return e&&e===t.keys}var oS=Object.prototype.hasOwnProperty;function oC(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var oz=function(t){var e=function t(t){return t==null?oD():oa(t)?t.toSeq():oP(t)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[e?n-++i:i++];if(t(o[1],o[0],this)===!1)break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var r=this._cache;if(r){var n=r.length,i=0;return new ov(function(){if(i===n)return og();var o=r[e?n-++i:i++];return om(t,o[0],o[1])})}return this.__iteratorUncached(t,e)},e}(i7),ok=function(t){var e=function t(t){return t==null?oD().toKeyedSeq():i2(t)?i3(t)?t.toSeq():t.fromEntrySeq():oo(t)?t.toSeq():oT(t)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(oz),oE=function(t){var e=function t(t){return t==null?oD():i2(t)?i3(t)?t.entrySeq():t.toIndexedSeq():oo(t)?t.toSeq().entrySeq():oF(t)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(oz),oI=function(t){var e=function t(t){return(i2(t)&&!i8(t)?t:oE(t)).toSetSeq()};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(oz);oz.isSeq=on;oz.Keyed=ok;oz.Set=oI;oz.Indexed=oE;oz.prototype[or]=!0;var oM=function(t){var e=function t(t){this._array=t,this.size=t.length};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[iY(this,t)]:e},e.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length,i=0;i!==n;){var o=e?n-++i:i++;if(t(r[o],o,this)===!1)break}return i},e.prototype.__iterator=function(t,e){var r=this._array,n=r.length,i=0;return new ov(function(){if(i===n)return og();var o=e?n-++i:i++;return om(t,o,r[o])})},e}(oE),oO=function(t){var e=function t(t){var e=Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]);this._object=t,this._keys=e,this.size=e.length};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return e!==void 0&&!this.has(t)?e:this._object[t]},e.prototype.has=function(t){return oS.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var a=n[e?i-++o:o++];if(t(r[a],a,this)===!1)break}return o},e.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length,o=0;return new ov(function(){if(o===i)return og();var a=n[e?i-++o:o++];return om(t,a,r[a])})},e}(ok);oO.prototype[ou]=!0;var oq=function(t){var e=function t(t){this._collection=t,this.size=t.length||t.size};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._collection,n=o_(r),i=0;if(oy(n))for(var o;!(o=n.next()).done&&t(o.value,i++,this)!==!1;);return i},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._collection,n=o_(r);if(!oy(n))return new ov(og);var i=0;return new ov(function(){var e=n.next();return e.done?e:om(t,i++,e.value)})},e}(oE),oA;function oD(){return oA||(oA=new oM([]))}function oT(t){var e=oR(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new oO(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function oF(t){var e=oR(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function oP(t){var e=oR(t);if(e)return oj(t)?e.fromEntrySeq():ow(t)?e.toSetSeq():e;if(typeof t=="object")return new oO(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function oR(t){return oC(t)?new oM(t):ox(t)?new oq(t):void 0}var oB="@@__IMMUTABLE_MAP__@@";function oL(t){return!!(t&&t[oB])}function oW(t){return oL(t)&&os(t)}function oU(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function oN(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(oU(t)&&oU(e)&&t.equals(e))}var oH=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function t(t,e){t|=0,e|=0;var r=t&65535,n=e&65535;return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function oV(t){return t>>>1&1073741824|t&3221225471}var oK=Object.prototype.valueOf;function oG(t){if(t==null)return oY(t);if(typeof t.hashCode=="function")return oV(t.hashCode(t));var e=o4(t);if(e==null)return oY(e);switch(typeof e==="undefined"?"undefined":I(e)){case"boolean":return e?1108378657:1108378656;case"number":return oX(e);case"string":return e.length>at?oJ(e):oZ(e);case"object":case"function":return oQ(e);case"symbol":return o$(e);default:if(typeof e.toString=="function")return oZ(e.toString());throw new Error("Value type "+(typeof e==="undefined"?"undefined":I(e))+" cannot be hashed.")}}function oY(t){return t===null?1108378658:1108378659}function oX(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return oV(e)}function oJ(t){var e=an[t];return e===void 0&&(e=oZ(t),ar===ae&&(ar=0,an={}),ar++,an[t]=e),e}function oZ(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return oV(e)}function o$(t){var e=o8[t];return e!==void 0||(e=o3(),o8[t]=e),e}function oQ(t){var e;if(o5&&(e=o6.get(t),e!==void 0)||(e=t[o9],e!==void 0)||!o0&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[o9],e!==void 0||(e=o2(t),e!==void 0)))return e;if(e=o3(),o5)o6.set(t,e);else{if(o1!==void 0&&o1(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(o0)Object.defineProperty(t,o9,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[o9]=e;else if(t.nodeType!==void 0)t[o9]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var o1=Object.isExtensible,o0=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function o2(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function o4(t){return t.valueOf!==oK&&typeof t.valueOf=="function"?t.valueOf(t):t}function o3(){var t=++o7;return o7&1073741824&&(o7=0),t}var o5=typeof WeakMap=="function",o6;o5&&(o6=new WeakMap);var o8=Object.create(null),o7=0,o9="__immutablehash__";typeof Symbol=="function"&&(o9=Symbol(o9));var at=16,ae=255,ar=0,an={},ai=function(t){var e=function t(t,e){this._iter=t,this._useKeys=e,this.size=t.size};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=ac(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var r=this,n=al(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e,n){return t(e,n,r)},e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(ok);ai.prototype[ou]=!0;var ao=function(t){var e=function t(t){this._iter=t,this.size=t.size};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this,n=0;return e&&iG(this),this._iter.__iterate(function(i){return t(i,e?r.size-++n:n++,r)},e)},e.prototype.__iterator=function(t,e){var r=this,n=this._iter.__iterator(oc,e),i=0;return e&&iG(this),new ov(function(){var o=n.next();return o.done?o:om(t,e?r.size-++i:i++,o.value,o)})},e}(oE),aa=function(t){var e=function t(t){this._iter=t,this.size=t.size};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(oc,e);return new ov(function(){var e=r.next();return e.done?e:om(t,e.value,e.value,e)})},e}(oI),au=function(t){var e=function t(t){this._iter=t,this.size=t.size};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){ak(e);var n=i2(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(oc,e);return new ov(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){ak(n);var i=i2(n);return om(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},e}(ok);ao.prototype.cacheResult=ai.prototype.cacheResult=aa.prototype.cacheResult=au.prototype.cacheResult=aM;function as(t){var e=aI(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=aM,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return e(r,t,n)!==!1},r)},e.__iteratorUncached=function(e,r){if(e===od){var n=t.__iterator(e,r);return new ov(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===oc?ol:oc,r)},e}function al(t,e,r){var n=aI(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,iN);return o===iN?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,a){return n(e.call(r,t,i,a),i,o)!==!1},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(od,i);return new ov(function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return om(n,u,e.call(r,a[1],u,t),i)})},n}function ac(t,e){var r=this,n=aI(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=as(t);return e.reverse=function(){return t.flip()},e}),n.get=function(r,n){return t.get(e?r:-1-r,n)},n.has=function(r){return t.has(e?r:-1-r)},n.includes=function(e){return t.includes(e)},n.cacheResult=aM,n.__iterate=function(r,n){var i=this,o=0;return n&&iG(t),t.__iterate(function(t,a){return r(t,e?a:n?i.size-++o:o++,i)},!n)},n.__iterator=function(n,i){var o=0;i&&iG(t);var a=t.__iterator(od,!i);return new ov(function(){var t=a.next();if(t.done)return t;var u=t.value;return om(n,e?u[0]:i?r.size-++o:o++,u[1],t)})},n}function ad(t,e,r,n){var i=aI(t);return n&&(i.has=function(n){var i=t.get(n,iN);return i!==iN&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,iN);return o!==iN&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return t.__iterate(function(t,o,s){if(e.call(r,t,o,s))return u++,i(t,n?o:u-1,a)},o),u},i.__iteratorUncached=function(i,o){var a=t.__iterator(od,o),u=0;return new ov(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value,l=s[0],c=s[1];if(e.call(r,c,l,t))return om(i,n?l:u++,c,o)}})},i}function af(t,e,r){var n=uo().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){return t+1})}),n.asImmutable()}function ah(t,e,r){var n=i3(t),i=(os(t)?uY():uo()).asMutable();t.__iterate(function(o,a){i.update(e.call(r,o,a,t),function(t){return t=t||[],t.push(n?[a,o]:o),t})});var o=aE(t);return i.map(function(e){return az(t,o(e))}).asImmutable()}function ap(t,e,r){var n=i3(t),i=[[],[]];t.__iterate(function(o,a){i[e.call(r,o,a,t)?1:0].push(n?[a,o]:o)});var o=aE(t);return i.map(function(e){return az(t,o(e))})}function av(t,e,r,n){var i=t.size;if(iJ(e,r,i))return t;var o=iZ(e,i),a=i$(r,i);if(o!==o||a!==a)return av(t.toSeq().cacheResult(),e,r,n);var u=a-o,s;u===u&&(s=u<0?0:u);var l=aI(t);return l.size=s===0?s:t.size&&s||void 0,!n&&on(t)&&s>=0&&(l.get=function(e,r){return e=iY(this,e),e>=0&&e<s?t.get(e+o,r):r}),l.__iterateUncached=function(e,r){var i=this;if(s===0)return 0;if(r)return this.cacheResult().__iterate(e,r);var a=0,u=!0,l=0;return t.__iterate(function(t,r){if(!(u&&(u=a++<o)))return l++,e(t,n?r:l-1,i)!==!1&&l!==s}),l},l.__iteratorUncached=function(e,r){if(s!==0&&r)return this.cacheResult().__iterator(e,r);if(s===0)return new ov(og);var i=t.__iterator(e,r),a=0,u=0;return new ov(function(){for(;a++<o;)i.next();if(++u>s)return og();var t=i.next();return n||e===oc||t.done?t:e===ol?om(e,u-1,void 0,t):om(e,u-1,t.value[1],t)})},l}function am(t,e,r){var n=aI(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return t.__iterate(function(t,i,u){return e.call(r,t,i,u)&&++a&&n(t,i,o)}),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=t.__iterator(od,i),u=!0;return new ov(function(){if(!u)return og();var t=a.next();if(t.done)return t;var i=t.value,s=i[0],l=i[1];return e.call(r,l,s,o)?n===od?t:om(n,s,l,t):(u=!1,og())})},n}function ag(t,e,r,n){var i=aI(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,s=0;return t.__iterate(function(t,o,l){if(!(u&&(u=e.call(r,t,o,l))))return s++,i(t,n?o:s-1,a)}),s},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(od,o),s=!0,l=0;return new ov(function(){var t,o,c;do{if(t=u.next(),t.done)return n||i===oc?t:i===ol?om(i,l++,void 0,t):om(i,l++,t.value[1],t);var d=t.value;o=d[0],c=d[1],s&&(s=e.call(r,c,o,a))}while(s);return i===od?t:om(i,o,c,t)})},i}function ax(t,e){var r=i3(t),n=[t].concat(e).map(function(t){return i2(t)?r&&(t=i9(t)):t=r?oT(t):oF(Array.isArray(t)?t:[t]),t}).filter(function(t){return t.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&i3(i)||i6(t)&&i6(i))return i}var o=new oM(n);return r?o=o.toKeyedSeq():i6(t)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=n.reduce(function(t,e){if(t!==void 0){var r=e.size;if(r!==void 0)return t+r}},0),o}function ay(t,e,r){var n=aI(t);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,u=!1;function s(t,l){t.__iterate(function(t,o){return(!e||l<e)&&i2(t)?s(t,l+1):(a++,i(t,r?o:a-1,n)===!1&&(u=!0)),!u},o)}return s(t,0),a},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=t.__iterator(n,i),a=[],u=0;return new ov(function(){for(;o;){var t=o.next();if(t.done!==!1){o=a.pop();continue}var s=t.value;if(n===od&&(s=s[1]),(!e||a.length<e)&&i2(s))a.push(o),o=s.__iterator(n,i);else return r?t:om(n,u++,s,t)}return og()})},n}function a_(t,e,r){var n=aE(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}function ab(t,e){var r=aI(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t){return(!o||r(e,o++,i)!==!1)&&r(t,o++,i)!==!1},n),o},r.__iteratorUncached=function(r,n){var i=t.__iterator(oc,n),o=0,a;return new ov(function(){return(!a||o%2)&&(a=i.next(),a.done)?a:o%2?om(r,o++,e):om(r,o++,a.value,a)})},r}function aj(t,e,r){e||(e=aO);var n=i3(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).valueSeq().toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?ok(o):i6(t)?oE(o):oI(o)}function aw(t,e,r){if(e||(e=aO),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return aS(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return aS(e,t,r)?r:t})}function aS(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function aC(t,e,r,n){var i=aI(t),o=new oM(r).map(function(t){return t.size});return i.size=n?o.max():o.min(),i.__iterate=function(t,e){for(var r=this.__iterator(oc,e),n,i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=i7(t),o_(i?t.reverse():t)}),a=0,u=!1;return new ov(function(){var r;return u||(r=o.map(function(t){return t.next()}),u=n?r.every(function(t){return t.done}):r.some(function(t){return t.done})),u?og():om(t,a++,e.apply(null,r.map(function(t){return t.value})))})},i}function az(t,e){return t===e?t:on(t)?e:t.constructor(e)}function ak(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function aE(t){return i3(t)?i9:i6(t)?ot:oe}function aI(t){return Object.create((i3(t)?ok:i6(t)?oE:oI).prototype)}function aM(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):oz.prototype.cacheResult.call(this)}function aO(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function aq(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function aA(t,e){if(!t)throw new Error(e)}function aD(t){aA(t!==1/0,"Cannot perform this action with an infinite size.")}function aT(t){if(oC(t)&&typeof t!="string")return t;if(os(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var aF=Object.prototype.toString;function aP(t){if(!t||typeof t!="object"||aF.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function aR(t){return typeof t=="object"&&(oa(t)||Array.isArray(t)||aP(t))}function aB(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function aL(t,e){return oa(t)?t.has(e):aR(t)&&oS.call(t,e)}function aW(t,e,r){return oa(t)?t.get(e,r):aL(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function aU(t){if(Array.isArray(t))return aq(t);var e={};for(var r in t)oS.call(t,r)&&(e[r]=t[r]);return e}function aN(t,e){if(!aR(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(oa(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!oS.call(t,e))return t;var r=aU(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function aH(t,e,r){if(!aR(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(oa(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(oS.call(t,e)&&r===t[e])return t;var n=aU(t);return n[e]=r,n}function aV(t,e,r,n){n||(n=r,r=void 0);var i=aK(oa(t),t,aT(e),0,r,n);return i===iN?r:i}function aK(t,e,r,n,i,o){var a=e===iN;if(n===r.length){var u=a?i:e,s=o(u);return s===u?e:s}if(!a&&!aR(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(aB)+"]: "+e);var l=r[n],c=a?iN:aW(e,l,iN),d=aK(c===iN?t:oa(c),c,r,n+1,i,o);return d===c?e:d===iN?aN(e,l):aH(a?t?ug():{}:e,l,d)}function aG(t,e,r){return aV(t,e,iN,function(){return r})}function aY(t,e){return aG(this,t,e)}function aX(t,e){return aV(t,e,function(){return iN})}function aJ(t){return aX(this,t)}function aZ(t,e,r,n){return aV(t,[e],r,n)}function a$(t,e,r){return arguments.length===1?t(this):aZ(this,t,e,r)}function aQ(t,e,r){return aV(this,t,e,r)}function a1(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return a2(this,t)}function a0(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return a2(this,e,t)}function a2(t,e,r){for(var n=[],i=0;i<e.length;i++){var o=i9(e[i]);o.size!==0&&n.push(o)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(t){for(var e=r?function e(e,n){aZ(t,n,iN,function(t){return t===iN?e:r(t,e,n)})}:function(e,r){t.set(r,e)},i=0;i<n.length;i++)n[i].forEach(e)})}function a4(t,e,r){return a3(t,e,a5(r))}function a3(t,e,r){if(!aR(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(oa(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,o=n?ot:i9,a=n?function e(e){i===t&&(i=aU(i)),i.push(e)}:function(e,n){var o=oS.call(i,n),a=o&&r?r(i[n],e,n):e;(!o||a!==i[n])&&(i===t&&(i=aU(i)),i[n]=a)},u=0;u<e.length;u++)o(e[u]).forEach(a);return i}function a5(t){function e(r,n,i){return aR(r)&&aR(n)&&a6(r,n)?a3(r,[n],e):t?t(r,n,i):n}return e}function a6(t,e){var r=oz(t),n=oz(e);return i6(r)===i6(n)&&i3(r)===i3(n)}function a8(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return a4(this,t)}function a7(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return a4(this,e,t)}function a9(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return aV(this,t,ug(),function(t){return a3(t,e)})}function ut(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return aV(this,t,ug(),function(t){return a4(t,e)})}function ue(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function ur(){return this.__ownerID?this:this.__ensureOwner(new iK)}function un(){return this.__ensureOwner()}function ui(){return this.__altered}var uo=function(t){var e=function e(e){return e==null?ug():oL(e)&&!os(e)?e:ug().withMutations(function(r){var n=t(e);aD(n.size),n.forEach(function(t,e){return r.set(e,t)})})};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ug().withMutations(function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return ux(this,t,e)},e.prototype.remove=function(t){return ux(this,t,iN)},e.prototype.deleteAll=function(t){var e=i7(t);return e.size===0?this:this.withMutations(function(t){e.forEach(function(e){return t.remove(e)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ug()},e.prototype.sort=function(t){return uY(aj(this,t))},e.prototype.sortBy=function(t,e){return uY(aj(this,e,t))},e.prototype.map=function(t,e){var r=this;return this.withMutations(function(n){n.forEach(function(i,o){n.set(o,t.call(e,i,o,r))})})},e.prototype.__iterator=function(t,e){return new uf(this,t,e)},e.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?uv(this.size,this._root,t,this.__hash):this.size===0?ug():(this.__ownerID=t,this.__altered=!1,this)},e}(i9);uo.isMap=oL;var ua=uo.prototype;ua[oB]=!0;ua[iB]=ua.remove;ua.removeAll=ua.deleteAll;ua.setIn=aY;ua.removeIn=ua.deleteIn=aJ;ua.update=a$;ua.updateIn=aQ;ua.merge=ua.concat=a1;ua.mergeWith=a0;ua.mergeDeep=a8;ua.mergeDeepWith=a7;ua.mergeIn=a9;ua.mergeDeepIn=ut;ua.withMutations=ue;ua.wasAltered=ui;ua.asImmutable=un;ua["@@transducer/init"]=ua.asMutable=ur;ua["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};ua["@@transducer/result"]=function(t){return t.asImmutable()};var uu=function t(t,e){this.ownerID=t,this.entries=e};uu.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(oN(r,i[o][0]))return i[o][1];return n};uu.prototype.update=function(t,e,r,n,i,o,a){for(var u=i===iN,s=this.entries,l=0,c=s.length;l<c&&!oN(n,s[l][0]);l++);var d=l<c;if(d?s[l][1]===i:u)return this;if(iV(a),(u||!d)&&iV(o),!(u&&s.length===1)){if(!d&&!u&&s.length>=uI)return uj(t,s,n,i);var f=t&&t===this.ownerID,h=f?s:aq(s);return d?u?l===c-1?h.pop():h[l]=h.pop():h[l]=[n,i]:h.push([n,i]),f?(this.entries=h,this):new uu(t,h)}};var us=function t(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r};us.prototype.get=function(t,e,r,n){e===void 0&&(e=oG(r));var i=1<<((t===0?e:e>>>t)&iU),o=this.bitmap;return o&i?this.nodes[uC(o&i-1)].get(t+iL,e,r,n):n};us.prototype.update=function(t,e,r,n,i,o,a){r===void 0&&(r=oG(n));var u=(e===0?r:r>>>e)&iU,s=1<<u,l=this.bitmap,c=(l&s)!==0;if(!c&&i===iN)return this;var d=uC(l&s-1),f=this.nodes,h=c?f[d]:void 0,p=uy(h,t,e+iL,r,n,i,o,a);if(p===h)return this;if(!c&&p&&f.length>=uM)return uS(t,f,l,u,p);if(c&&!p&&f.length===2&&u_(f[d^1]))return f[d^1];if(c&&p&&f.length===1&&u_(p))return p;var v=t&&t===this.ownerID,m=c?p?l:l^s:l|s,g=c?p?uz(f,d,p,v):uE(f,d,v):uk(f,d,p,v);return v?(this.bitmap=m,this.nodes=g,this):new us(t,m,g)};var ul=function t(t,e,r){this.ownerID=t,this.count=e,this.nodes=r};ul.prototype.get=function(t,e,r,n){e===void 0&&(e=oG(r));var i=(t===0?e:e>>>t)&iU,o=this.nodes[i];return o?o.get(t+iL,e,r,n):n};ul.prototype.update=function(t,e,r,n,i,o,a){r===void 0&&(r=oG(n));var u=(e===0?r:r>>>e)&iU,s=i===iN,l=this.nodes,c=l[u];if(s&&!c)return this;var d=uy(c,t,e+iL,r,n,i,o,a);if(d===c)return this;var f=this.count;if(!c)f++;else if(!d&&(f--,f<uO))return uw(t,l,f,u);var h=t&&t===this.ownerID,p=uz(l,u,d,h);return h?(this.count=f,this.nodes=p,this):new ul(t,f,p)};var uc=function t(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r};uc.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(oN(r,i[o][0]))return i[o][1];return n};uc.prototype.update=function(t,e,r,n,i,o,a){r===void 0&&(r=oG(n));var u=i===iN;if(r!==this.keyHash)return u?this:(iV(a),iV(o),ub(this,t,e,r,[n,i]));for(var s=this.entries,l=0,c=s.length;l<c&&!oN(n,s[l][0]);l++);var d=l<c;if(d?s[l][1]===i:u)return this;if(iV(a),(u||!d)&&iV(o),u&&c===2)return new ud(t,this.keyHash,s[l^1]);var f=t&&t===this.ownerID,h=f?s:aq(s);return d?u?l===c-1?h.pop():h[l]=h.pop():h[l]=[n,i]:h.push([n,i]),f?(this.entries=h,this):new uc(t,this.keyHash,h)};var ud=function t(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r};ud.prototype.get=function(t,e,r,n){return oN(r,this.entry[0])?this.entry[1]:n};ud.prototype.update=function(t,e,r,n,i,o,a){var u=i===iN,s=oN(n,this.entry[0]);if(s?i===this.entry[1]:u)return this;if(iV(a),u){iV(o);return}return s?t&&t===this.ownerID?(this.entry[1]=i,this):new ud(t,this.keyHash,[n,i]):(iV(o),ub(this,t,e,oG(n),[n,i]))};uu.prototype.iterate=uc.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};us.prototype.iterate=ul.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&o.iterate(t,e)===!1)return!1}};ud.prototype.iterate=function(t,e){return t(this.entry)};var uf=function(t){var e=function t(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&up(t._root)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r=e.node,n=e.index++,i=void 0;if(r.entry){if(n===0)return uh(t,r.entry)}else if(r.entries){if(i=r.entries.length-1,n<=i)return uh(t,r.entries[this._reverse?i-n:n])}else if(i=r.nodes.length-1,n<=i){var o=r.nodes[this._reverse?i-n:n];if(o){if(o.entry)return uh(t,o.entry);e=this._stack=up(o,e)}continue}e=this._stack=this._stack.__prev}return og()},e}(ov);function uh(t,e){return om(t,e[0],e[1])}function up(t,e){return{node:t,index:0,__prev:e}}function uv(t,e,r,n){var i=Object.create(ua);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var um;function ug(){return um||(um=uv(0))}function ux(t,e,r){var n,i;if(t._root){var o=iH(),a=iH();if(n=uy(t._root,t.__ownerID,0,void 0,e,r,o,a),!a.value)return t;i=t.size+(o.value?r===iN?-1:1:0)}else{if(r===iN)return t;i=1,n=new uu(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?uv(i,n):ug()}function uy(t,e,r,n,i,o,a,u){return t?t.update(e,r,n,i,o,a,u):o===iN?t:(iV(u),iV(a),new ud(e,n,[i,o]))}function u_(t){return t.constructor===ud||t.constructor===uc}function ub(t,e,r,n,i){if(t.keyHash===n)return new uc(e,n,[t.entry,i]);var o=(r===0?t.keyHash:t.keyHash>>>r)&iU,a=(r===0?n:n>>>r)&iU,u,s=o===a?[ub(t,e,r+iL,n,i)]:(u=new ud(e,n,i),o<a?[t,u]:[u,t]);return new us(e,1<<o|1<<a,s)}function uj(t,e,r,n){t||(t=new iK);for(var i=new ud(t,oG(r),[r,n]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function uw(t,e,r,n){for(var i=0,o=0,a=new Array(r),u=0,s=1,l=e.length;u<l;u++,s<<=1){var c=e[u];c!==void 0&&u!==n&&(i|=s,a[o++]=c)}return new us(t,i,a)}function uS(t,e,r,n,i){for(var o=0,a=new Array(iW),u=0;r!==0;u++,r>>>=1)a[u]=r&1?e[o++]:void 0;return a[n]=i,new ul(t,o+1,a)}function uC(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function uz(t,e,r,n){var i=n?t:aq(t);return i[e]=r,i}function uk(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),a=0,u=0;u<i;u++)u===e?(o[u]=r,a=-1):o[u]=t[u+a];return o}function uE(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,a=0;a<n;a++)a===e&&(o=1),i[a]=t[a+o];return i}var uI=iW/4,uM=iW/2,uO=iW/4,uq="@@__IMMUTABLE_LIST__@@";function uA(t){return!!(t&&t[uq])}var uD=function(t){var e=function e(e){var r=uW();if(e==null)return r;if(uA(e))return e;var n=t(e),i=n.size;return i===0?r:(aD(i),i>0&&i<iW?uB(0,i,iL,null,new uF(n.toArray())):r.withMutations(function(t){t.setSize(i),n.forEach(function(e,r){return t.set(r,e)})}))};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if(t=iY(this,t),t>=0&&t<this.size){t+=this._origin;var r=uV(this,t);return r&&r.array[t&iU]}return e},e.prototype.set=function(t,e){return uU(this,t,e)},e.prototype.remove=function(t){return this.has(t)?t===0?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=iL,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):uW()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){uK(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},e.prototype.pop=function(){return uK(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){uK(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},e.prototype.shift=function(){return uK(this,1)},e.prototype.concat=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++){var i=e[n],o=t(typeof i!="string"&&ox(i)?i:[i]);o.size!==0&&r.push(o)}return r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(t){r.forEach(function(e){return e.forEach(function(e){return t.push(e)})})})},e.prototype.setSize=function(t){return uK(this,0,t)},e.prototype.map=function(t,e){var r=this;return this.withMutations(function(n){for(var i=0;i<r.size;i++)n.set(i,t.call(e,n.get(i),i,r))})},e.prototype.slice=function(t,e){var r=this.size;return iJ(t,e,r)?this:uK(this,iZ(t,r),i$(e,r))},e.prototype.__iterator=function(t,e){var r=e?this.size:0,n=uR(this,e);return new ov(function(){var i=n();return i===uP?og():om(t,e?--r:r++,i)})},e.prototype.__iterate=function(t,e){for(var r=e?this.size:0,n=uR(this,e),i;(i=n())!==uP&&t(i,e?--r:r++,this)!==!1;);return r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?uB(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):this.size===0?uW():(this.__ownerID=t,this.__altered=!1,this)},e}(ot);uD.isList=uA;var uT=uD.prototype;uT[uq]=!0;uT[iB]=uT.remove;uT.merge=uT.concat;uT.setIn=aY;uT.deleteIn=uT.removeIn=aJ;uT.update=a$;uT.updateIn=aQ;uT.mergeIn=a9;uT.mergeDeepIn=ut;uT.withMutations=ue;uT.wasAltered=ui;uT.asImmutable=un;uT["@@transducer/init"]=uT.asMutable=ur;uT["@@transducer/step"]=function(t,e){return t.push(e)};uT["@@transducer/result"]=function(t){return t.asImmutable()};var uF=function t(t,e){this.array=t,this.ownerID=e};uF.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:this.array.length===0)return this;var n=r>>>e&iU;if(n>=this.array.length)return new uF([],t);var i=n===0,o;if(e>0){var a=this.array[n];if(o=a&&a.removeBefore(t,e-iL,r),o===a&&i)return this}if(i&&!o)return this;var u=uH(this,t);if(!i)for(var s=0;s<n;s++)u.array[s]=void 0;return o&&(u.array[n]=o),u};uF.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||this.array.length===0)return this;var n=r-1>>>e&iU;if(n>=this.array.length)return this;var i;if(e>0){var o=this.array[n];if(i=o&&o.removeAfter(t,e-iL,r),i===o&&n===this.array.length-1)return this}var a=uH(this,t);return a.array.splice(n+1),i&&(a.array[n]=i),a};var uP={};function uR(t,e){var r=function t(t,e,r){return e===0?n(t,r):i(t,e,r)};var n=function t(t,r){var n=r===u?s&&s.array:t&&t.array,i=r>o?0:o-r,l=a-r;return l>iW&&(l=iW),function(){if(i===l)return uP;var t=e?--l:i++;return n&&n[t]}};var i=function t(t,n,i){var u,s=t&&t.array,l=i>o?0:o-i>>n,c=(a-i>>n)+1;return c>iW&&(c=iW),function(){for(;;){if(u){var t=u();if(t!==uP)return t;u=null}if(l===c)return uP;var o=e?--c:l++;u=r(s&&s[o],n-iL,i+(o<<n))}}};var o=t._origin,a=t._capacity,u=uG(a),s=t._tail;return r(t._root,t._level,0)}function uB(t,e,r,n,i,o,a){var u=Object.create(uT);return u.size=e-t,u._origin=t,u._capacity=e,u._level=r,u._root=n,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}var uL;function uW(){return uL||(uL=uB(0,0,iL))}function uU(t,e,r){if(e=iY(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?uK(t,e).set(0,r):uK(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=iH();return e>=uG(t._capacity)?n=uN(n,t.__ownerID,0,e,r,o):i=uN(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):uB(t._origin,t._capacity,t._level,i,n):t}function uN(t,e,r,n,i,o){var a=n>>>r&iU,u=t&&a<t.array.length;if(!u&&i===void 0)return t;var s;if(r>0){var l=t&&t.array[a],c=uN(l,e,r-iL,n,i,o);return c===l?t:(s=uH(t,e),s.array[a]=c,s)}return u&&t.array[a]===i?t:(o&&iV(o),s=uH(t,e),i===void 0&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function uH(t,e){return e&&t&&e===t.ownerID?t:new uF(t?t.array.slice():[],e)}function uV(t,e){if(e>=uG(t._capacity))return t._tail;if(e<1<<t._level+iL){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&iU],n-=iL;return r}}function uK(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new iK,i=t._origin,o=t._capacity,a=i+e,u=r===void 0?o:r<0?o+r:i+r;if(a===i&&u===o)return t;if(a>=u)return t.clear();for(var s=t._level,l=t._root,c=0;a+c<0;)l=new uF(l&&l.array.length?[void 0,l]:[],n),s+=iL,c+=1<<s;c&&(a+=c,i+=c,u+=c,o+=c);for(var d=uG(o),f=uG(u);f>=1<<s+iL;)l=new uF(l&&l.array.length?[l]:[],n),s+=iL;var h=t._tail,p=f<d?uV(t,u-1):f>d?new uF([],n):h;if(h&&f>d&&a<o&&h.array.length){l=uH(l,n);for(var v=l,m=s;m>iL;m-=iL){var g=d>>>m&iU;v=v.array[g]=uH(v.array[g],n)}v.array[d>>>iL&iU]=h}if(u<o&&(p=p&&p.removeAfter(n,0,u)),a>=f)a-=f,u-=f,s=iL,l=null,p=p&&p.removeBefore(n,0,a);else if(a>i||f<d){for(c=0;l;){var x=a>>>s&iU;if(x!==f>>>s&iU)break;x&&(c+=(1<<s)*x),s-=iL,l=l.array[x]}l&&a>i&&(l=l.removeBefore(n,s,a-c)),l&&f<d&&(l=l.removeAfter(n,s,f-c)),c&&(a-=c,u-=c)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=s,t._root=l,t._tail=p,t.__hash=void 0,t.__altered=!0,t):uB(a,u,s,l,p)}function uG(t){return t<iW?0:t-1>>>iL<<iL}var uY=function(t){var e=function t(t){return t==null?uZ():oW(t)?t:uZ().withMutations(function(e){var r=i9(t);aD(r.size),r.forEach(function(t,r){return e.set(r,t)})})};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var r=this._map.get(t);return r!==void 0?this._list.get(r)[1]:e},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):uZ()},e.prototype.set=function(t,e){return u$(this,t,e)},e.prototype.remove=function(t){return u$(this,t,iN)},e.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?uX(e,r,t,this.__hash):this.size===0?uZ():(this.__ownerID=t,this.__altered=!1,this._map=e,this._list=r,this)},e}(uo);uY.isOrderedMap=oW;uY.prototype[ou]=!0;uY.prototype[iB]=uY.prototype.remove;function uX(t,e,r,n){var i=Object.create(uY.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var uJ;function uZ(){return uJ||(uJ=uX(ug(),uW()))}function u$(t,e,r){var n=t._map,i=t._list,o=n.get(e),a=o!==void 0,u,s;if(r===iN){if(!a)return t;i.size>=iW&&i.size>=n.size*2?(s=i.filter(function(t,e){return t!==void 0&&o!==e}),u=s.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(u.__ownerID=s.__ownerID=t.__ownerID)):(u=n.remove(e),s=o===i.size-1?i.pop():i.set(o,void 0))}else if(a){if(r===i.get(o)[1])return t;u=n,s=i.set(o,[e,r])}else u=n.set(e,i.size),s=i.set(i.size,[e,r]);return t.__ownerID?(t.size=u.size,t._map=u,t._list=s,t.__hash=void 0,t.__altered=!0,t):uX(u,s)}var uQ="@@__IMMUTABLE_STACK__@@";function u1(t){return!!(t&&t[uQ])}var u0=function(t){var e=function t(t){return t==null?u5():u1(t)?t:u5().pushAll(t)};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var r=this._head;for(t=iY(this,t);r&&t--;)r=r.next;return r?r.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(arguments.length===0)return this;for(var e=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:t[n],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):u4(e,r)},e.prototype.pushAll=function(e){if(e=t(e),e.size===0)return this;if(this.size===0&&u1(e))return e;aD(e.size);var r=this.size,n=this._head;return e.__iterate(function(t){r++,n={value:t,next:n}},!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):u4(r,n)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):u5()},e.prototype.slice=function(e,r){if(iJ(e,r,this.size))return this;var n=iZ(e,this.size),i=i$(r,this.size);if(i!==this.size)return t.prototype.slice.call(this,e,r);for(var o=this.size-n,a=this._head;n--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=void 0,this.__altered=!0,this):u4(o,a)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?u4(this.size,this._head,t,this.__hash):this.size===0?u5():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var r=this;if(e)return new oM(this.toArray()).__iterate(function(e,n){return t(e,n,r)},e);for(var n=0,i=this._head;i&&t(i.value,n++,this)!==!1;)i=i.next;return n},e.prototype.__iterator=function(t,e){if(e)return new oM(this.toArray()).__iterator(t,e);var r=0,n=this._head;return new ov(function(){if(n){var e=n.value;return n=n.next,om(t,r++,e)}return og()})},e}(ot);u0.isStack=u1;var u2=u0.prototype;u2[uQ]=!0;u2.shift=u2.pop;u2.unshift=u2.push;u2.unshiftAll=u2.pushAll;u2.withMutations=ue;u2.wasAltered=ui;u2.asImmutable=un;u2["@@transducer/init"]=u2.asMutable=ur;u2["@@transducer/step"]=function(t,e){return t.unshift(e)};u2["@@transducer/result"]=function(t){return t.asImmutable()};function u4(t,e,r,n){var i=Object.create(u2);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var u3;function u5(){return u3||(u3=u4(0))}var u6="@@__IMMUTABLE_SET__@@";function u8(t){return!!(t&&t[u6])}function u7(t){return u8(t)&&os(t)}function u9(t,e){if(t===e)return!0;if(!i2(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||i3(t)!==i3(e)||i6(t)!==i6(e)||os(t)!==os(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!i8(t);if(os(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&oN(i[1],t)&&(r||oN(i[0],e))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var a=!0,u=e.__iterate(function(e,n){if(r?!t.has(e):i?!oN(e,t.get(n,iN)):!oN(t.get(n,iN),e))return a=!1,!1});return a&&t.size===u}function st(t,e){var r=function r(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function se(t){if(!t||typeof t!="object")return t;if(!i2(t)){if(!aR(t))return t;t=oz(t)}if(i3(t)){var e={};return t.__iterate(function(t,r){e[r]=se(t)}),e}var r=[];return t.__iterate(function(t){r.push(se(t))}),r}var sr=function(t){var e=function e(e){return e==null?su():u8(e)&&!os(e)?e:su().withMutations(function(r){var n=t(e);aD(n.size),n.forEach(function(t){return r.add(t)})})};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(i9(t).keySeq())},e.intersect=function(t){return t=i7(t).toArray(),t.length?sn.intersect.apply(e(t.pop()),t):su()},e.union=function(t){return t=i7(t).toArray(),t.length?sn.union.apply(e(t.pop()),t):su()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return si(this,this._map.set(t,t))},e.prototype.remove=function(t){return si(this,this._map.remove(t))},e.prototype.clear=function(){return si(this,this._map.clear())},e.prototype.map=function(t,e){var r=this,n=!1,i=si(this,this._map.mapEntries(function(i){var o=i[1],a=t.call(e,o,o,r);return a!==o&&(n=!0),[a,a]},e));return n?i:this},e.prototype.union=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return e=e.filter(function(t){return t.size!==0}),e.length===0?this:this.size===0&&!this.__ownerID&&e.length===1?this.constructor(e[0]):this.withMutations(function(r){for(var n=0;n<e.length;n++)typeof e[n]=="string"?r.add(e[n]):t(e[n]).forEach(function(t){return r.add(t)})})},e.prototype.intersect=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e.length===0)return this;e=e.map(function(e){return t(e)});var n=[];return this.forEach(function(t){e.every(function(e){return e.includes(t)})||n.push(t)}),this.withMutations(function(t){n.forEach(function(e){t.remove(e)})})},e.prototype.subtract=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e.length===0)return this;e=e.map(function(e){return t(e)});var n=[];return this.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.push(t)}),this.withMutations(function(t){n.forEach(function(e){t.remove(e)})})},e.prototype.sort=function(t){return sI(aj(this,t))},e.prototype.sortBy=function(t,e){return sI(aj(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e){return t(e,e,r)},e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):this.size===0?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(oe);sr.isSet=u8;var sn=sr.prototype;sn[u6]=!0;sn[iB]=sn.remove;sn.merge=sn.concat=sn.union;sn.withMutations=ue;sn.asImmutable=un;sn["@@transducer/init"]=sn.asMutable=ur;sn["@@transducer/step"]=function(t,e){return t.add(e)};sn["@@transducer/result"]=function(t){return t.asImmutable()};sn.__empty=su;sn.__make=so;function si(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function so(t,e){var r=Object.create(sn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var sa;function su(){return sa||(sa=so(ug()))}var ss=function(t){function e(t,r,n){if(!h(this,e))return new e(t,r,n);if(aA(n!==0,"Cannot step a Range by 0"),t=t||0,r===void 0&&(r=1/0),n=n===void 0?1:Math.abs(n),r<t&&(n=-n),this._start=t,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-t)/n-1)+1),this.size===0){if(sl)return sl;sl=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+iY(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,r){return iJ(t,r,this.size)?this:(t=iZ(t,this.size),r=i$(r,this.size),r<=t?new e(0,0):new e(this.get(t,this._end),this.get(r,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;o!==r&&t(i,e?r-++o:o++,this)!==!1;)i+=e?-n:n;return o},e.prototype.__iterator=function(t,e){var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;return new ov(function(){if(o===r)return og();var a=i;return i+=e?-n:n,om(t,e?r-++o:o++,a)})},e.prototype.equals=function(t){return h(t,e)?this._start===t._start&&this._end===t._end&&this._step===t._step:u9(this,t)},e}(oE),sl;function sc(t,e,r){for(var n=aT(e),i=0;i!==n.length;)if(t=aW(t,n[i++],iN),t===iN)return r;return t}function sd(t,e){return sc(this,t,e)}function sf(t,e){return sc(t,e,iN)!==iN}function sh(t){return sf(this,t)}function sp(){aD(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}i7.isIterable=i2;i7.isKeyed=i3;i7.isIndexed=i6;i7.isAssociative=i8;i7.isOrdered=os;i7.Iterator=ov;st(i7,{toArray:function t(){aD(this.size);var t=new Array(this.size||0),e=i3(this),r=0;return this.__iterate(function(n,i){t[r++]=e?[i,n]:n}),t},toIndexedSeq:function t(){return new ao(this)},toJS:function t(){return se(this)},toKeyedSeq:function t(){return new ai(this,!0)},toMap:function t(){return uo(this.toKeyedSeq())},toObject:sp,toOrderedMap:function t(){return uY(this.toKeyedSeq())},toOrderedSet:function t(){return sI(i3(this)?this.valueSeq():this)},toSet:function t(){return sr(i3(this)?this.valueSeq():this)},toSetSeq:function t(){return new aa(this)},toSeq:function t(){return i6(this)?this.toIndexedSeq():i3(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function t(){return u0(i3(this)?this.valueSeq():this)},toList:function t(){return uD(i3(this)?this.valueSeq():this)},toString:function t(){return"[Collection]"},__toString:function t(t,e){return this.size===0?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function t(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return az(this,ax(this,t))},includes:function t(t){return this.some(function(e){return oN(e,t)})},entries:function t(){return this.__iterator(od)},every:function t(t,e){aD(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1}),r},filter:function t(t,e){return az(this,ad(this,t,e,!0))},partition:function t(t,e){return ap(this,t,e)},find:function t(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function t(t,e){return aD(this.size),this.__iterate(e?t.bind(e):t)},join:function t(t){aD(this.size),t=t!==void 0?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=n!=null?n.toString():""}),e},keys:function t(){return this.__iterator(ol)},map:function t(t,e){return az(this,al(this,t,e))},reduce:function t(t,e,r){return sy(this,t,e,r,arguments.length<2,!1)},reduceRight:function t(t,e,r){return sy(this,t,e,r,arguments.length<2,!0)},reverse:function t(){return az(this,ac(this,!0))},slice:function t(t,e){return az(this,av(this,t,e,!0))},some:function t(t,e){aD(this.size);var r=!1;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=!0,!1}),r},sort:function t(t){return az(this,aj(this,t))},values:function t(){return this.__iterator(oc)},butLast:function t(){return this.slice(0,-1)},isEmpty:function t(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function t(t,e){return iG(t?this.toSeq().filter(t,e):this)},countBy:function t(t,e){return af(this,t,e)},equals:function t(t){return u9(this,t)},entrySeq:function t(){var t=this;if(t._cache)return new oM(t._cache);var e=t.toSeq().map(sb).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function t(t,e){return this.filter(sj(t),e)},findEntry:function t(t,e,r){var n=r;return this.__iterate(function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1}),n},findKey:function t(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function t(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function t(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function t(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function t(t){return this.find(iX,null,t)},flatMap:function t(t,e){return az(this,a_(this,t,e))},flatten:function t(t){return az(this,ay(this,t,!0))},fromEntrySeq:function t(){return new au(this)},get:function t(t,e){return this.find(function(e,r){return oN(r,t)},void 0,e)},getIn:sd,groupBy:function t(t,e){return ah(this,t,e)},has:function t(t){return this.get(t,iN)!==iN},hasIn:sh,isSubset:function t(t){return t=typeof t.includes=="function"?t:i7(t),this.every(function(e){return t.includes(e)})},isSuperset:function t(t){return t=typeof t.isSubset=="function"?t:i7(t),t.isSubset(this)},keyOf:function t(t){return this.findKey(function(e){return oN(e,t)})},keySeq:function t(){return this.toSeq().map(s_).toIndexedSeq()},last:function t(t){return this.toSeq().reverse().first(t)},lastKeyOf:function t(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function t(t){return aw(this,t)},maxBy:function t(t,e){return aw(this,e,t)},min:function t(t){return aw(this,t?sw(t):sC)},minBy:function t(t,e){return aw(this,e?sw(e):sC,t)},rest:function t(){return this.slice(1)},skip:function t(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function t(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function t(t,e){return az(this,ag(this,t,e,!0))},skipUntil:function t(t,e){return this.skipWhile(sj(t),e)},sortBy:function t(t,e){return az(this,aj(this,e,t))},take:function t(t){return this.slice(0,Math.max(0,t))},takeLast:function t(t){return this.slice(-Math.max(0,t))},takeWhile:function t(t,e){return az(this,am(this,t,e))},takeUntil:function t(t,e){return this.takeWhile(sj(t),e)},update:function t(t){return t(this)},valueSeq:function t(){return this.toIndexedSeq()},hashCode:function t(){return this.__hash||(this.__hash=sz(this))}});var sv=i7.prototype;sv[i0]=!0;sv[op]=sv.values;sv.toJSON=sv.toArray;sv.__toStringMapper=aB;sv.inspect=sv.toSource=function(){return this.toString()};sv.chain=sv.flatMap;sv.contains=sv.includes;st(i9,{flip:function t(){return az(this,as(this))},mapEntries:function t(t,e){var r=this,n=0;return az(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function t(t,e){var r=this;return az(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var sm=i9.prototype;sm[i4]=!0;sm[op]=sv.entries;sm.toJSON=sp;sm.__toStringMapper=function(t,e){return aB(e)+": "+aB(t)};st(ot,{toKeyedSeq:function t(){return new ai(this,!1)},filter:function t(t,e){return az(this,ad(this,t,e,!1))},findIndex:function t(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function t(t){var e=this.keyOf(t);return e===void 0?-1:e},lastIndexOf:function t(t){var e=this.lastKeyOf(t);return e===void 0?-1:e},reverse:function t(){return az(this,ac(this,!1))},slice:function t(t,e){return az(this,av(this,t,e,!1))},splice:function t(t,e){var r=arguments.length;if(e=Math.max(e||0,0),r===0||r===2&&!e)return this;t=iZ(t,t<0?this.count():this.size);var n=this.slice(0,t);return az(this,r===1?n:n.concat(aq(arguments,2),this.slice(t+e)))},findLastIndex:function t(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function t(t){return this.get(0,t)},flatten:function t(t){return az(this,ay(this,t,!1))},get:function t(t,e){return t=iY(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function t(t){return t=iY(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function t(t){return az(this,ab(this,t))},interleave:function t(){var t=[this].concat(aq(arguments)),e=aC(this.toSeq(),oE.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),az(this,r)},keySeq:function t(){return ss(0,this.size)},last:function t(t){return this.get(-1,t)},skipWhile:function t(t,e){return az(this,ag(this,t,e,!1))},zip:function t(){var t=[this].concat(aq(arguments));return az(this,aC(this,sS,t))},zipAll:function t(){var t=[this].concat(aq(arguments));return az(this,aC(this,sS,t,!0))},zipWith:function t(t){var e=aq(arguments);return e[0]=this,az(this,aC(this,t,e))}});var sg=ot.prototype;sg[i5]=!0;sg[ou]=!0;st(oe,{get:function t(t,e){return this.has(t)?t:e},includes:function t(t){return this.has(t)},keySeq:function t(){return this.valueSeq()}});var sx=oe.prototype;sx.has=sv.includes;sx.contains=sx.includes;sx.keys=sx.values;st(ok,sm);st(oE,sg);st(oI,sx);function sy(t,e,r,n,i,o){return aD(t.size),t.__iterate(function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)},o),r}function s_(t,e){return e}function sb(t,e){return[e,t]}function sj(t){return function(){return!t.apply(this,arguments)}}function sw(t){return function(){return-t.apply(this,arguments)}}function sS(){return aq(arguments)}function sC(t,e){return t<e?1:t>e?-1:0}function sz(t){if(t.size===1/0)return 0;var e=os(t),r=i3(t),n=e?1:0,i=t.__iterate(r?e?function(t,e){n=31*n+sE(oG(t),oG(e))|0}:function(t,e){n=n+sE(oG(t),oG(e))|0}:e?function(t){n=31*n+oG(t)|0}:function(t){n=n+oG(t)|0});return sk(i,n)}function sk(t,e){return e=oH(e,3432918353),e=oH(e<<15|e>>>-15,461845907),e=oH(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=oH(e^e>>>16,2246822507),e=oH(e^e>>>13,3266489909),e=oV(e^e>>>16),e}function sE(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var sI=function(t){var e=function t(t){return t==null?sA():u7(t)?t:sA().withMutations(function(e){var r=oe(t);aD(r.size),r.forEach(function(t){return e.add(t)})})};return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(i9(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(sr);sI.isOrderedSet=u7;var sM=sI.prototype;sM[ou]=!0;sM.zip=sg.zip;sM.zipWith=sg.zipWith;sM.zipAll=sg.zipAll;sM.__empty=sA;sM.__make=sO;function sO(t,e){var r=Object.create(sM);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var sq;function sA(){return sq||(sq=sO(uZ()))}function sD(t){if(oo(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(oa(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var sT=function t(t,e){var r;sD(t);var n=function o(o){var a=this;if(h(o,n))return o;if(!h(this,n))return new n(o);if(!r){r=!0;var u=Object.keys(t),s=i._indices={};i._name=e,i._keys=u,i._defaultValues=t;for(var l=0;l<u.length;l++){var c=u[l];s[c]=l,i[c]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+sR(this)+' with property "'+c+'" since that property name is part of the Record API.'):sL(i,c)}}return this.__ownerID=void 0,this._values=uD().withMutations(function(t){t.setSize(a._keys.length),i9(o).forEach(function(e,r){t.set(a._indices[r],e===a._defaultValues[r]?void 0:e)})}),this},i=n.prototype=Object.create(sF);return i.constructor=n,e&&(n.displayName=e),n};sT.prototype.toString=function(){for(var t=sR(this)+" { ",e=this._keys,r,n=0,i=e.length;n!==i;n++)r=e[n],t+=(n?", ":"")+r+": "+aB(this.get(r));return t+" }"};sT.prototype.equals=function(t){return this===t||oo(t)&&sB(this).equals(sB(t))};sT.prototype.hashCode=function(){return sB(this).hashCode()};sT.prototype.has=function(t){return this._indices.hasOwnProperty(t)};sT.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._indices[t],n=this._values.get(r);return n===void 0?this._defaultValues[t]:n};sT.prototype.set=function(t,e){if(this.has(t)){var r=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(r!==this._values&&!this.__ownerID)return sP(this,r)}return this};sT.prototype.remove=function(t){return this.set(t)};sT.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:sP(this,t)};sT.prototype.wasAltered=function(){return this._values.wasAltered()};sT.prototype.toSeq=function(){return sB(this)};sT.prototype.toJS=function(){return se(this)};sT.prototype.entries=function(){return this.__iterator(od)};sT.prototype.__iterator=function(t,e){return sB(this).__iterator(t,e)};sT.prototype.__iterate=function(t,e){return sB(this).__iterate(t,e)};sT.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?sP(this,e,t):(this.__ownerID=t,this._values=e,this)};sT.isRecord=oo;sT.getDescriptiveName=sR;var sF=sT.prototype;sF[oi]=!0;sF[iB]=sF.remove;sF.deleteIn=sF.removeIn=aJ;sF.getIn=sd;sF.hasIn=sv.hasIn;sF.merge=a1;sF.mergeWith=a0;sF.mergeIn=a9;sF.mergeDeep=a8;sF.mergeDeepWith=a7;sF.mergeDeepIn=ut;sF.setIn=aY;sF.update=a$;sF.updateIn=aQ;sF.withMutations=ue;sF.asMutable=ur;sF.asImmutable=un;sF[op]=sF.entries;sF.toJSON=sF.toObject=sv.toObject;sF.inspect=sF.toSource=function(){return this.toString()};function sP(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function sR(t){return t.constructor.displayName||t.constructor.name||"Record"}function sB(t){return oT(t._keys.map(function(e){return[e,t.get(e)]}))}function sL(t,e){try{Object.defineProperty(t,e,{get:function t(){return this.get(e)},set:function t(t){aA(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}function sW(t){var e=t.children,r=t.className,n=t.clipboardValue,i=t.sx,o=t.sxChildren,a=t.title;var u=tc.useTheme();return V.jsxs(e_.default,{spacing:a?1.5:0,sx:rI.default({width:"100%",flex:1,overflowY:"auto"},i),children:[V.jsx(ej.default,{fontSize:"14px",fontWeight:700,color:rU[400],children:a}),V.jsxs(eb.default,{className:r,sx:rI.default({position:"relative",fontFamily:function(t){return t.typography.fontFamily},fontSize:"16px",lineHeight:"24px",padding:3,paddingRight:4,border:"1.5px solid ".concat(u.palette.divider),borderRadius:"8px",overflowY:"auto",flexGrow:1,caretColor:u.palette.text.primary,backgroundColor:u.palette.background.paper,"&:hover":{borderColor:u.palette.mode==="light"?rU[400]:"white"}},o),children:[n?V.jsx(eb.default,{sx:{position:"absolute",right:0,top:0,color:"text.secondary"},children:V.jsx(nH,{value:n})}):null,e]})]})}var sU=["Assistant","System","User"],sN=function(t){var e=t.canSelectRole,r=t.children,n=t.index,i=t.message,o=t.role,a=t.name;var u=z(F.useState(!1),2),s=u[0],l=u[1],c=F.useContext(iP),d=c.setPlayground,f=function(t){var e=t.target.value;e&&d(function(t){var r;return b(y({},t),{generation:b(y({},t.generation),{messages:(r=t.generation.messages)===null||r===void 0?void 0:r.map(function(t,r){return y({},t,r===n?{role:e}:{})})})})}),l(!1)},h=function(){n!==void 0&&d(function(t){return b(y({},t),{generation:b(y({},t.generation),{messages:E(t.generation.messages.slice(0,n)).concat(E(t.generation.messages.slice(n+1)))})})})},p=V.jsxs(eb.default,{sx:{flex:1,paddingLeft:2},children:[s?V.jsx(nz,{onClose:function(){return l(!1)},defaultOpen:!0,items:sU.map(function(t){return{label:t,value:t.toLowerCase()}}),id:"role-select",value:i===null||i===void 0?void 0:i.role,onChange:f,sx:{width:"fit-content"},iconSx:{px:0,marginRight:"2px !important"}}):V.jsx(ej.default,{onClick:function(){return e&&l(!0)},color:"text.primary",sx:y({p:1,borderRadius:.5,marginTop:1,cursor:e?"pointer":"default",fontSize:"12px",fontWeight:700,width:"fit-content"},e&&{"&:hover":{backgroundColor:function(t){return t.palette.divider}}}),children:o}),a?V.jsx(ej.default,{color:"text.secondary",variant:"caption",sx:{ml:1,width:"fit-content"},children:a}):null]});return V.jsxs(eb.default,{children:[V.jsx(eb.default,{sx:{border:function(t){return"1px solid ".concat(t.palette.divider)},borderRadius:1}}),V.jsxs(e_.default,{direction:"row",width:"100%",sx:{gap:2,flex:10,paddingY:1,"&:hover":{background:function(t){return t.palette.background.paper}}},children:[p,V.jsx(eb.default,{flex:8,children:r}),n!==void 0?V.jsx(eb.default,{color:"text.secondary",children:V.jsx(eq.default,{color:"inherit",onClick:h,children:V.jsx(rM.default,{sx:{height:18,width:18}})})}):null]})]},n)},sH=sN;function sV(t){var e=t.completion,r=t.chatMode;var n=z(F.useState(eo.EditorState.createEmpty()),2),i=n[0],o=n[1],a=z(F.useState(!0),2),u=a[0],s=a[1];F.useEffect(function(){var t=eo.EditorState.createEmpty();e&&(t=l(t,e)),o(t),s(!0)},[e]);var l=function(t,e){var r=t.getCurrentContent(),n=r.getBlockMap(),i=n.last().getKey(),o=n.last().getLength(),a=new eo.SelectionState({anchorKey:i,anchorOffset:o,focusKey:i,focusOffset:o}),u=eo.Modifier.insertText(r,a,e,sI.of("COMPLETION")),s=eo.EditorState.push(t,u,"insert-characters");return eo.EditorState.forceSelection(s,u.getSelectionAfter())},c=function(){return V.jsx(sW,{className:"completion-editor",clipboardValue:i.getCurrentContent().getPlainText(),sxChildren:{borderColor:function(t){return t.palette.success.main},"&:hover":{borderColor:function(t){return t.palette.success.main}}},children:V.jsx(eo.Editor,{editorState:i,onChange:function(t){t=eo.EditorState.push(t,i.getCurrentContent(),"insert-characters"),o(t)}})})};return r?V.jsx(sH,{role:"ASSISTANT",children:c()}):V.jsxs(eb.default,{marginTop:2,children:[V.jsxs(e_.default,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingRight:"6px"},children:[V.jsx(eb.default,{fontSize:"14px",fontWeight:700,color:rU[400],children:"Completion"}),V.jsx(eq.default,{onClick:function(){return s(!u)},children:u?V.jsx(rd.default,{}):V.jsx(rf.default,{})})]}),V.jsx(eb.default,{sx:{border:function(t){return"1px solid ".concat(t.palette.divider)},borderRadius:1,marginTop:1}}),V.jsx(eb.default,{sx:{maxHeight:u?"220px":"0px",transition:"max-height 0.5s ease-in-out",overflow:"auto",marginTop:2},children:c()})]})}function sK(t,e){switch(e){case"f-string":return new RegExp("\\{+(".concat(t,"+)\\}+"),"g");default:throw new Error("Unsupported template format ".concat(e))}}function sG(t,e){switch(e){case"f-string":return t=t.replaceAll("{{","{"),t=t.replaceAll("}}","}"),t;default:throw new Error("Unsupported template format ".concat(e))}}function sY(t){switch(t){case"f-string":return/\{+([^{}]+)\}+|{{|}}/g;default:throw new Error("Unsupported template format ".concat(t))}}function sX(t,e){switch(e){case"f-string":return"{".concat(t,"}");default:throw new Error("Unsupported template format ".concat(e))}}function sJ(t,e,r){switch(r){case"f-string":{var n=e.split(t)[0].length,i=e.split(t)[1].length,o=n%2&&n===i,a=sX(t,r),u=e.indexOf(a),s=u+a.length;return{ok:o,localStartIndex:u,localEndIndex:s}}default:throw new Error("Unsupported template format ".concat(r))}}function sZ(){var t=nv(!0),e={};for(var r=0;r<t.length;r++)e[r.toString()]={background:t[r],borderRadius:"2px",cursor:"pointer"};return e}function s$(t,e){var r=sY(e),n=[],i;for(;(i=r.exec(t))!==null;)i.index>-1&&n.push(i);return n}function sQ(t,e,r){var n;var i=(n=sK(e,r).exec(t))===null||n===void 0?void 0:n[0];if(i){var o=sJ(e,i,r),a=o.ok;return{match:i,ok:a}}else return{match:"",ok:!1}}function s1(t,e,r){var n=t.getCurrentContent(),i=t;return n.getBlockMap().forEach(function(o){if(!o)return;var a=o.getKey(),u=o.getText(),s=s$(u,r),l=0,c=s.map(function(o){var u=o[0],s;var c=true,d=false,f=undefined;try{for(var h=e[Symbol.iterator](),p;!(c=(p=h.next()).done);c=true){var v=p.value;var m=sQ(u,v.name,r),g=m.match,x=m.ok;if(x){s={variable:v,match:g};break}}}catch(t){d=true;f=t}finally{try{if(!c&&h.return!=null){h.return()}}finally{if(d){throw f}}}var y=o.index+l,_=y+u.length,b=new eo.SelectionState({anchorKey:a,anchorOffset:y,focusKey:a,focusOffset:_}),j=sG(u,r);return l+=j.length-u.length,n=eo.Modifier.replaceText(n,b,j),i=eo.EditorState.push(t,n,"apply-entity"),o[0]=j,o.index=y,{ssm:o,variableFound:s}}),d=0;c.forEach(function(t){var e=t.ssm,o=t.variableFound;if(!o)return;var u=o.variable,s=e[0],l=i.getSelection(),c=sJ(u.name,s,r),f=c.localEndIndex,h=c.localStartIndex,p=e.index+h+d,v=e.index+f+d,m=new eo.SelectionState({anchorKey:a,anchorOffset:p,focusKey:a,focusOffset:v}),g=u.content||"";d+=g.length-(f-h),n=i.getCurrentContent(),n=n.createEntity("TOKEN","SEGMENTED",u);var x=n.getLastCreatedEntityKey();n=eo.Modifier.replaceText(n,m,g,sI.of(u.styleIndex.toString()),x),i=eo.EditorState.push(i,n,"apply-entity"),i=eo.EditorState.forceSelection(i,l)})}),i}function s0(t){var e=t.getSelection(),r=e.getStartKey(),n=t.getCurrentContent(),i=n.getBlockForKey(r);if(!i)return;var o=i.getEntityAt(e.getStartOffset());if(o){var a=n.getEntity(o);return{type:a.getType(),mutability:a.getMutability(),data:a.getData()}}}function s2(t){var e=t.template,r=t.formatted,n=t.inputs,i=t.format,o=t.readOnly,a=t.onChange,u=t.showTitle,s=u===void 0?!1:u,l=t.sxEditorChildren;var c=F.useRef(null),d=F.useContext(iP),f=d.setVariableName,h=d.setPromptMode,p=d.onNotification,v=z(F.useState(),2),m=v[0],g=v[1],x=z(F.useState(),2),y=x[0],_=x[1],b=sZ();if(X.useIsFirstRender()||!rO.default(n,y)){if(typeof e=="string"){n=n||{};var j=Object.keys(n),w=[];for(var S=0;S<j.length;S++){var C=j[S],k=n[C];w.push({name:C,styleIndex:S,content:k})}var E=w.sort(function(t,e){return e.name.length-t.name.length}),I=eo.EditorState.createWithContent(eo.ContentState.createFromText(e)),M=s1(I,E,i);g(M)}else if(typeof r=="string"){var O=eo.EditorState.createWithContent(eo.ContentState.createFromText(r));g(O)}_(n)}var q=function(t){var e=t.getSelection().getHasFocus(),r=t.getSelection().isCollapsed(),n=s0(t);if(n&&e&&r&&c.current&&(f(n.data.name),c.current.blur()),!o)a&&a(t);else if(m){var i=m.getCurrentContent(),u=t.getCurrentContent();i!==u&&(p("error","Formatted prompt is read only. Edit the template/variables instead."),h("Template")),t=eo.EditorState.push(t,i,"insert-characters")}g(t)};return m?V.jsx(sW,{className:"formatted-editor",title:s?o?"Formatted prompt [Read Only]":"Formatted prompt":void 0,clipboardValue:m===null||m===void 0?void 0:m.getCurrentContent().getPlainText(),sxChildren:rI.default(l||{},o?{caretColor:"transparent",backgroundColor:"transparent",borderColor:"transparent !important"}:{}),children:V.jsx(eo.Editor,{ref:c,customStyleMap:b,editorState:m,onChange:q})}):null}function s4(t){var e=t.generation,r=t.restoredTime;var n=F.useContext(iP),i=n.promptMode,o=n.setPlayground,a=function(t){var e=t.getCurrentContent().getPlainText();o(function(t){return b(y({},t),{generation:b(y({},t.generation),{formatted:e})})})};return V.jsxs(e_.default,{flex:1,width:"100%",children:[i==="Formatted"?function(){return typeof e.prompt=="string"?V.jsx(s2,{showTitle:!0,formatted:e.prompt||"",inputs:e.variables||{},format:"f-string",readOnly:!1,onChange:a}):V.jsx(eM.default,{severity:"error",children:"Neither template or formatted prompt provided."})}():null,V.jsx(sV,{completion:e.completion})]},r)}function s3(t){var e=t.message,r=t.generation,n=t.mode,i=t.index,o=t.onChange;var a;var u=tc.useTheme(),s={inputs:r.variables||{},format:"f-string",sxEditorChildren:{padding:u.spacing(2),backgroundColor:"","&:hover":{background:u.palette.background.paper}}},l=function(){return typeof e.content=="string"?V.jsx(s2,b(y({},s),{onChange:function(t){return o(i,t)},formatted:e.content,readOnly:!1,showTitle:!1})):V.jsx(eM.default,{severity:"error",children:"Neither template or formatted prompt provided."})};return V.jsx(sH,{canSelectRole:!0,index:i,message:e,role:(a=e.role)===null||a===void 0?void 0:a.toUpperCase(),name:e.name,children:V.jsx(V.Fragment,{children:n==="Formatted"?l():null})})}var s5=F.forwardRef(function(t,e){var r=t.hasTemplate,n=t.generation,i=t.restoredTime;var o;var a=F.useContext(iP),u=a.promptMode,s=a.setPlayground,l=n.messages,c=function(t,e){var r=e.getCurrentContent().getPlainText();s(function(e){var n;return b(y({},e),{generation:b(y({},e.generation),{messages:(n=e.generation.messages)===null||n===void 0?void 0:n.map(function(e,n){return n===t?b(y({},e),{content:r}):e})})})})},d=u==="Formatted"?r?"Formatted messages [Read Only]":"Formatted messages":"Prompt messages";return V.jsxs(e_.default,{sx:{width:"100%"},children:[V.jsx(ej.default,{fontSize:"14px",fontWeight:700,color:rU[400],children:d}),V.jsxs(eb.default,{ref:e,sx:{flex:1,height:"auto",overflow:"auto",scrollbarGutter:"stable",marginTop:1,gap:1},children:[(l===null||l===void 0?void 0:l.length)?V.jsx(e_.default,{children:l.map(function(t,e){return V.jsx(F.Fragment,{children:V.jsx(s3,{message:t,generation:n,mode:u,index:e,onChange:c})},"prompt-message-".concat(e))})}):null,V.jsx(eb.default,{color:"text.secondary",pl:2,py:2,children:V.jsx(eO.default,{onClick:function(){s(function(t){return b(y({},t),{generation:b(y({},t.generation),{messages:E(t.generation.messages).concat([{role:"assistant",content:""}])})})})},color:"inherit",sx:{fontWeight:700,textTransform:"capitalize"},startIcon:V.jsx(rq.default,{}),children:"Add Message"})}),V.jsx(sV,{completion:(o=n.messageCompletion)===null||o===void 0?void 0:o.content,chatMode:!0})]},i)]})}),s6=s5;var s8=function(){var t;var e=F.useContext(iP),r=e.setPlayground,n=e.playground,i=e.functionIndex,a=e.setFunctionIndex,u=tc.useTheme(),s=i!==void 0,l=(n===null||n===void 0?void 0:(t=n.generation)===null||t===void 0?void 0:t.functions)||[],c=s?l[i]:void 0,d=function(t,e){if(i!==void 0&&c){var n=b(y({},c),{name:t,description:e});r(function(t){return(t===null||t===void 0?void 0:t.generation)?b(y({},t),{generation:b(y({},t.generation),{functions:E(l.slice(0,i)).concat([n],E(l.slice(i+1)))})}):t}),a(void 0)}},f=T.useFormik({initialValues:{name:c===null||c===void 0?void 0:c.name,description:c===null||c===void 0?void 0:c.description},validationSchema:ek.object({name:ek.string().required(),description:ek.string().required()}),enableReinitialize:!0,onSubmit:function(){var t=o(function(t){return A(this,function(e){d(t.name,t.description);return[2]})});return function(e){return t.apply(this,arguments)}}()});return V.jsx(rv.default,{id:"function-modal",open:!!c,onClose:function(){return a(void 0)},fullWidth:!0,maxWidth:"md",sx:{border:function(t){return t.palette.mode==="dark"?"1px solid ".concat(rU[800]):null},borderRadius:1},children:V.jsxs(eb.default,{bgcolor:"background.paper",children:[V.jsx(rx.default,{children:V.jsx(ej.default,{fontSize:"16px",fontWeight:700,color:"text.secondary",children:"Edit function ".concat(c===null||c===void 0?void 0:c.name)})}),V.jsx(rg.default,{children:V.jsxs(e_.default,{gap:2,children:[V.jsx(rL,{id:"fn-name",label:"Function name",onChange:function(t){return f.setFieldValue("name",t.target.value)},value:f.values.name,hasError:!!f.errors.name}),V.jsx(rL,{id:"fn-desc",label:"Function description",multiline:!0,onChange:function(t){return f.setFieldValue("description",t.target.value)},value:f.values.description,hasError:!!f.errors.description})]})}),V.jsx(rm.default,{sx:{padding:u.spacing(0,3,2)},children:V.jsx(nc,{id:"edit-function",variant:"outlined",onClick:function(){return f.submitForm()},children:"Save"})})]})})},s7=s8;var s9=function(){var t=z(F.useState(),2),e=t[0],r=t[1],n=F.useContext(iP),i=n.setPlayground,o=n.playground,a=n.variableName,u=n.setVariableName,s=tc.useTheme();F.useEffect(function(){var t;a&&(o===null||o===void 0?void 0:(t=o.generation)===null||t===void 0?void 0:t.inputs)&&r(eo.EditorState.createWithContent(eo.ContentState.createFromText(o.generation.inputs[a])))},[a]);var c=function(){a&&(i(function(t){var r;return(t===null||t===void 0?void 0:t.generation)?b(y({},t),{generation:b(y({},t.generation),{inputs:b(y({},t===null||t===void 0?void 0:(r=t.generation)===null||r===void 0?void 0:r.inputs),l({},a,(e===null||e===void 0?void 0:e.getCurrentContent().getPlainText())||""))})}):t}),u(void 0))},d=function(){u(void 0)};return a?V.jsx(rv.default,{id:"variable-modal",open:!!a,onClose:d,fullWidth:!0,maxWidth:"md",sx:{border:function(t){return t.palette.mode==="dark"?"1px solid ".concat(rU[800]):null},borderRadius:1},children:V.jsxs(eb.default,{bgcolor:"background.paper",children:[V.jsx(rx.default,{children:V.jsx(ej.default,{fontSize:"16px",fontWeight:700,color:"text.secondary",children:"Edit ".concat(a)})}),V.jsxs(rg.default,{children:[V.jsx(eM.default,{sx:{my:1},severity:"info",children:"Editing a variable will update its value in the formatted view. If you want to update the template instead, go to the template view."}),e?V.jsx(sW,{sx:{minHeight:"250px"},sxChildren:{padding:1},children:V.jsx(eo.Editor,{customStyleFn:function(){return{color:s.palette.text.primary,padding:"2px"}},editorState:e,onChange:function(t){t&&r(t)}})}):null]}),V.jsx(rm.default,{sx:{padding:s.spacing(0,3,2)},children:V.jsx(nc,{id:"edit-variable",onClick:c,variant:"outlined",children:"Save"})})]})}):null},lt=s9;var le=function(){var t;var e=F.useContext(iP),r=e.functionIndex,n=e.setFunctionIndex,i=e.playground,o=(i===null||i===void 0?void 0:(t=i.generation)===null||t===void 0?void 0:t.functions)||[],a=o.map(function(t,e){return{label:t.name,value:e.toString()}});return(o===null||o===void 0?void 0:o.length)>0?V.jsx(nz,{items:a,id:"function-select",value:r!==void 0?r.toString():"",label:"Edit a function",onChange:function(t){return n(parseInt(t.target.value,10))},sx:{maxWidth:"270px"}}):null},lr=le;function ln(t){var e=t.hasTemplate;var r=F.useContext(iP),n=r.setPromptMode,i=r.promptMode,o=!e,a=V.jsx(nI,{disabled:o,label:"View",id:"toggle-prompt-mode",value:i,items:["Template","Formatted"],onChange:function(t){return n(t)}});return o?V.jsx(ez.default,{title:"Prompt template not found. Only displaying formatted prompt instead.",children:V.jsx("span",{children:a})}):a}var li=function(){var t;var e=F.useContext(iP),r=e.variableName,n=e.setVariableName,i=e.playground,o=rD.default(i===null||i===void 0?void 0:(t=i.generation)===null||t===void 0?void 0:t.inputs,function(t,e){return{label:e,value:e}});return(o===null||o===void 0?void 0:o.length)>0?V.jsx(nz,{items:o,id:"variable-select",value:r||"",label:"Edit a variable",onChange:function(t){return n(t.target.value)},sx:{maxWidth:"270px"}}):null},lo=li;function la(t){var e=t.hasTemplate,r=t.showToggleDrawerButton,n=t.toggleDrawer,i=t.handleClose;return V.jsxs(e_.default,{direction:"row",alignItems:"center",children:[V.jsxs(e_.default,{direction:"row",alignItems:"center",gap:2,children:[V.jsx(ln,{hasTemplate:e}),V.jsx(lo,{}),V.jsx(lr,{})]}),V.jsxs(e_.default,{sx:{ml:"auto"},direction:"row",alignItems:"center",gap:1,children:[V.jsx(nc,{size:"large",target:"_blank",href:"https://docs.chainlit.io/advanced-features/prompt-playground/overview",children:"Help"}),r?V.jsx(eq.default,{"aria-label":"open drawer",edge:"end",onClick:n,sx:{mr:"4px"},children:V.jsx(rA.default,{})}):null,V.jsx(eq.default,{edge:"end",id:"close-playground",onClick:i,children:V.jsx(rn.default,{sx:{height:"32px",width:"32px",color:rU[500]}})})]})]})}var lu=function(t){var e=(t===null||t===void 0?void 0:t.providers)||[];if(!(e===null||e===void 0?void 0:e.length))throw new Error("No LLM provider available");var r=e.find(function(e){var r;return e.id===((r=t.generation)===null||r===void 0?void 0:r.provider)}),n=!!r;return r=r||e[0],{provider:r,providerFound:n,providers:e}};var ls=function(t){var e=t.settings,r=t.schema,n=t.provider,i=t.providers,a=t.providerTooltip,u=t.providerWarning;var s=F.useContext(iP),l=s.setPlayground,c=T.useFormik({initialValues:e,validationSchema:r,enableReinitialize:!0,onSubmit:/*#__PURE__*/o(function(){return A(this,function(t){return[2]})})});F.useEffect(function(){var t=setTimeout(function(){l(function(t){return b(y({},t),{generation:b(y({},t.generation),{settings:c.values})})})},500);return function(){clearTimeout(t)}},[c.values]);var d=function(t){l(function(e){return rI.default(rT.default(e),{generation:{provider:t.target.value}})})};return V.jsxs(eb.default,{width:250,sx:{height:"inherit"},children:[V.jsx(ej.default,{fontSize:"16px",fontWeight:600,color:"text.primary",children:"Settings"}),V.jsxs(e_.default,{spacing:2,sx:{overflowY:"auto",overflowX:"hidden",height:"100%"},children:[V.jsx(nz,{items:i===null||i===void 0?void 0:i.map(function(t){return{label:t.name,value:t.id}}),id:"llm-providers",value:n.id,label:"LLM Provider",tooltip:a,onChange:d}),u,n.inputs.map(function(t,e){return V.jsx(eb.default,{sx:{paddingBottom:e===n.inputs.length-1?2:0},children:V.jsx(nk,{element:b(y({},t),{id:t.id,value:c.values[t.id],onChange:c.handleChange,setField:c.setFieldValue})})},t.id)})]})]})},ll=function(){var t,e,r,n;var i=F.useContext(iP),o=i.playground;if(!o||!(o===null||o===void 0?void 0:o.providers))return null;var a=lu(o),u=a.provider,s=a.providerFound,l=a.providers;if(!u)return null;var c=function(){var t,e;return u.is_chat&&((t=o.generation)===null||t===void 0?void 0:t.type)!=="CHAT"?"".concat(u.name," is chat-based. This prompt will be wrapped in a message before being sent to ").concat(u.name,"."):!u.is_chat&&((e=o.generation)===null||e===void 0?void 0:e.type)==="CHAT"?"".concat(u.name," is completion-based. The messages will converted to a single prompt before being sent to ").concat(u.name,"."):void 0},d=s?null:V.jsx(eM.default,{severity:"warning",children:((t=o.generation)===null||t===void 0?void 0:t.provider)?"".concat(o===null||o===void 0?void 0:(e=o.generation)===null||e===void 0?void 0:e.provider," provider is not found, using\n      ").concat(u.name," instead."):"Provider not specified, using ".concat(u.name," instead.")}),f={},h=(o===null||o===void 0?void 0:(r=o.generation)===null||r===void 0?void 0:r.settings)||{},p=(o===null||o===void 0?void 0:(n=o.originalGeneration)===null||n===void 0?void 0:n.settings)||{},v=function(t,e){var r;return e.type==="select"?!!(e===null||e===void 0?void 0:(r=e.items)===null||r===void 0?void 0:r.find(function(e){return e.value===t})):!0},m=ek.object(u.inputs.reduce(function(t,e){var r=h[e.id]!==void 0?h[e.id]:p[e.id];switch(r!==void 0&&v(r,e)?f[e.id]=r:e.initial!==void 0&&(f[e.id]=e.initial),e.type){case"select":t[e.id]=ek.string();break;case"slider":{var n=ek.number();e.min&&(n=n.min(e.min)),e.max&&(n=n.max(e.max)),t[e.id]=n;break}case"tags":t[e.id]=ek.array().of(ek.string());break}return t},{}));return V.jsx(ls,{provider:u,providers:l,providerWarning:d,providerTooltip:c(),schema:m,settings:f})};function lc(t){var e=t.isSmallScreen,r=t.isDrawerOpen,n=t.toggleDrawer;return e?V.jsxs(ri.default,{sx:{"& .MuiDrawer-paper":{}},variant:"persistent",anchor:"right",open:r,children:[V.jsx(eb.default,{sx:{display:"flex",justifyContent:"flex-end",pt:2,pr:1},children:V.jsx(eq.default,{onClick:n,children:V.jsx(rF.default,{})})}),V.jsx(eb.default,{px:3,children:V.jsx(ll,{})})]}):V.jsx(eb.default,{ml:"32px !important",height:"100%",children:V.jsx(ll,{})})}function ld(t){var e=t.onSubmit;var r=z(F.useState(),2),n=r[0],i=r[1],a=F.useContext(iP),u=a.playground,s=a.setPlayground,l=a.createCompletion;if(!u||!u.providers||!l)return null;var c=function(){var t=o(function(){var t,r,n,o,a;return A(this,function(c){switch(c.label){case 0:c.trys.push([0,2,,3]);t=lu(u),r=t.provider,n=rT.default(u.generation);n.provider=r.id;o=new AbortController;i(o),s(function(t){var e;return(t===null||t===void 0?void 0:t.generation)?t.generation.type==="CHAT"?b(y({},t),{generation:b(y({},t.generation),{messageCompletion:b(y({},((e=t.generation)===null||e===void 0?void 0:e.messageCompletion)||{role:"assistant"}),{content:""})})}):b(y({},t),{generation:b(y({},t.generation),{completion:""})}):t});return[4,l(n,o,function(t,r){if(e&&e(),t){i(void 0);return}s(function(t){var e,n,i,o;return(t===null||t===void 0?void 0:t.generation)?t.generation.type==="CHAT"?b(y({},t),{generation:b(y({},t.generation),{messageCompletion:b(y({},((e=t.generation)===null||e===void 0?void 0:e.messageCompletion)||{role:"assistant"}),{content:(((i=t.generation)===null||i===void 0?void 0:(n=i.messageCompletion)===null||n===void 0?void 0:n.content)||"")+r})})}):b(y({},t),{generation:b(y({},t.generation),{completion:(((o=t.generation)===null||o===void 0?void 0:o.completion)||"")+r})}):t})})];case 1:c.sent();return[3,3];case 2:a=c.sent();i(void 0);return[3,3];case 3:return[2]}})});return function e(){return t.apply(this,arguments)}}();return n?V.jsx(nl,{onClick:function(){n.abort(),i(void 0)},children:"Cancel"}):V.jsx(nc,{id:"submit-prompt",variant:"outlined",onClick:c,children:"Submit"})}function lf(){var t=F.useContext(iP),e=t.playground,r=t.setPlayground,n=z(F.useState(0),2),i=n[0],o=n[1],a=z(X.useToggle(!1),2),u=a[0],s=a[1],l=F.useRef(null),c=tc.useTheme(),d=ro.default(c.breakpoints.down("md")),f=d&&!!(e===null||e===void 0?void 0:e.providers),h=function(){(e===null||e===void 0?void 0:e.generation)&&(r(function(t){return b(y({},t),{generation:t===null||t===void 0?void 0:t.originalGeneration})}),o(function(t){return t+1}))},p=function(){r(function(t){return b(y({},t),{generation:void 0,originalGeneration:void 0})})},v=e===null||e===void 0?void 0:e.generation,m=(v===null||v===void 0?void 0:v.type)==="CHAT",g=!1;return v?V.jsxs(rv.default,{open:!!v,fullScreen:!0,PaperProps:{style:{backgroundColor:c.palette.background.default,backgroundImage:"none"}},onClose:p,id:"playground","aria-labelledby":"playground","aria-describedby":"playground",children:[V.jsx(rx.default,{sx:{display:"flex",flexDirection:"column"},children:V.jsx(la,{hasTemplate:g,showToggleDrawerButton:f,toggleDrawer:s,handleClose:p})}),V.jsx(rg.default,{sx:{display:"flex",direction:"row",padding:3},children:V.jsxs(nR,{prefix:"Prompt Playground error",children:[V.jsx(e_.default,{gap:3,width:"100%",children:V.jsxs(e_.default,{direction:"row",spacing:1.5,sx:{overflowY:"auto",paddingBottom:2,height:"100%"},children:[V.jsx(s7,{}),V.jsx(lt,{}),m?V.jsx(s6,{ref:l,restoredTime:i,hasTemplate:g,generation:v}):V.jsx(s4,{restoredTime:i,hasTemplate:g,generation:v})]})}),V.jsx(lc,{isSmallScreen:d,isDrawerOpen:u,toggleDrawer:s})]})}),V.jsxs(iR,{children:[v.tokenCount?V.jsx(tg.Chip,{label:"".concat(v.tokenCount," tokens")}):null,V.jsx(ez.default,{title:"Restore original",children:V.jsx(eq.default,{onClick:h,children:V.jsx(rE.default,{})})}),V.jsx(ld,{onSubmit:function(){(l===null||l===void 0?void 0:l.current)&&(l.current.scrollTop=l.current.scrollHeight)}})]})]}):null}var lh=function(t){var e=t.context;return V.jsx(iP.Provider,{value:e,children:V.jsx(lf,{})})};exports.AccentButton=nc;exports.Attachment=nq;exports.AudioElement=nM;exports.AuthForgotPassword=r5;exports.AuthLogin=r3;exports.AuthResetPassword=r6;exports.AuthVerifyEmail=r8;exports.AvatarElement=nO;exports.ClipboardCopy=nH;exports.Code=nK;exports.Collapse=iC;exports.Element=n1;exports.ElementSideView=n4;exports.ElementView=n6;exports.ErrorBoundary=nR;exports.FileElement=nA;exports.FormInput=nk;exports.FrameElement=nD;exports.GreyButton=ns;exports.ImageElement=nF;exports.InlinedAudioList=n8;exports.InlinedElements=iu;exports.InlinedFileList=n7;exports.InlinedImageList=ie;exports.InlinedPDFList=ir;exports.InlinedPlotlyList=ii;exports.InlinedTextList=io;exports.InlinedVideoList=ia;exports.InputLabel=rR;exports.InputStateHandler=rB;exports.Markdown=nZ;exports.MessageContainer=iT;exports.NotificationCount=rP;exports.PDFElement=nP;exports.PlotlyElement=nN;exports.PromptPlayground=lh;exports.RegularButton=nl;exports.SelectCategoryInput=nE;exports.SelectInput=nz;exports.SliderInput=n_;exports.SwitchInput=nj;exports.TagsInput=nS;exports.TextElement=n$;exports.TextInput=rL;exports.Toggle=nI;exports.VideoElement=nQ;exports.darkGreyButtonTheme=na;exports.green=rH;exports.grey=rU;exports.lightGreyButtonTheme=nu;exports.makeTheme=no;exports.primary=rN;exports.useColors=nv;exports.useIsDarkMode=nd;exports.useUpload=ng;exports.white=rW;exports.yellow=rV;//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map